/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./gameClient/src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./gameClient/src/game.js":
/*!********************************!*\
  !*** ./gameClient/src/game.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nangular.module('gameinstance').controller('gameCtrl', function () /*required services go in here*/{\n    var _this = this;\n\n    // this.localCache = {\n    //     score : {\n    //         teamOne : 0,\n    // \t\tteamTwo : 0\n    //     },\n    //     ballLoc: {\n    //         cx: 600,\n    //         cy: 0,\n    //         dx: 0,\n    //         dy: 4.76\n    //     },\n    //     players:{}\n    // };\n\n    // this.checkElements = false;\n\n    // this.initcache =[];\n\n    this.socket = io.connect('localhost:1337');\n\n    this.socket.on('initGame', function (msg) {\n        // alert('gameBeginning')\n        // var data = msg;\n        // console.log(data);\n        // for (var player in data.players){\n        // \tthis.initcache.push(data.players[player])\n        // }\n        // for (var i = 0; i < 4 ; i ++){\n\n        // \tconsole.log(this)\n        // }\n        _this.checkElements = true;\n        // this[\"player0\"] = angular.element(document.querySelector(`#oppCat0`))\n        // this[\"player1\"] = angular.element(document.querySelector(`#oppCat1`))\n        // this[\"player2\"] = angular.element(document.querySelector(`#oppCat2`))\n        // this[\"player3\"] = angular.element(document.querySelector(`#oppCat3`))\n        // var tony = () => {console.log(this)}\n        // george=tony.bind(this)\n        // setTimeout(george, 3000)\n        // console.log(data)\n        // console.log(this.initcache)\n        //console.log('Game Beginning');\n    });\n\n    this.catImageOne = new Image();\n    this.catImageOne.src = '/images/BlackCatUp.gif';\n\n    this.catImageTwo = new Image();\n    this.catImageTwo.src = '/images/orangeCatSpriteUp.gif';\n}).component('game', {\n    bindings: {},\n    controller: 'gameCtrl',\n    templateUrl: './templates/game.html'\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9nYW1lQ2xpZW50L3NyYy9nYW1lLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2dhbWVDbGllbnQvc3JjL2dhbWUuanM/ZTBiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnZ2FtZWluc3RhbmNlJylcbiAgICAuY29udHJvbGxlcignZ2FtZUN0cmwnLCBmdW5jdGlvbiAoLypyZXF1aXJlZCBzZXJ2aWNlcyBnbyBpbiBoZXJlKi8pXG4gICAge1xuICAgICAgICAvLyB0aGlzLmxvY2FsQ2FjaGUgPSB7XG4gICAgICAgIC8vICAgICBzY29yZSA6IHtcbiAgICAgICAgLy8gICAgICAgICB0ZWFtT25lIDogMCxcbiAgICAgICAgLy8gXHRcdHRlYW1Ud28gOiAwXG4gICAgICAgIC8vICAgICB9LFxuICAgICAgICAvLyAgICAgYmFsbExvYzoge1xuICAgICAgICAvLyAgICAgICAgIGN4OiA2MDAsXG4gICAgICAgIC8vICAgICAgICAgY3k6IDAsXG4gICAgICAgIC8vICAgICAgICAgZHg6IDAsXG4gICAgICAgIC8vICAgICAgICAgZHk6IDQuNzZcbiAgICAgICAgLy8gICAgIH0sXG4gICAgICAgIC8vICAgICBwbGF5ZXJzOnt9XG4gICAgICAgIC8vIH07XG5cbiAgICAgICAgLy8gdGhpcy5jaGVja0VsZW1lbnRzID0gZmFsc2U7XG5cbiAgICAgICAgLy8gdGhpcy5pbml0Y2FjaGUgPVtdO1xuXG4gXHR0aGlzLnNvY2tldCA9IGlvLmNvbm5lY3QoJ2xvY2FsaG9zdDoxMzM3Jyk7XG5cbiBcdHRoaXMuc29ja2V0Lm9uKCdpbml0R2FtZScsIChtc2cpPT57XG4gXHRcdC8vIGFsZXJ0KCdnYW1lQmVnaW5uaW5nJylcbiAgICAgICAgICAgIC8vIHZhciBkYXRhID0gbXNnO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XG4gXHRcdC8vIGZvciAodmFyIHBsYXllciBpbiBkYXRhLnBsYXllcnMpe1xuIFx0XHQvLyBcdHRoaXMuaW5pdGNhY2hlLnB1c2goZGF0YS5wbGF5ZXJzW3BsYXllcl0pXG4gXHRcdC8vIH1cbiBcdFx0Ly8gZm9yICh2YXIgaSA9IDA7IGkgPCA0IDsgaSArKyl7XG4gXHRcdFx0XG4gXHRcdC8vIFx0Y29uc29sZS5sb2codGhpcylcbiBcdFx0Ly8gfVxuIFx0XHR0aGlzLmNoZWNrRWxlbWVudHMgPSB0cnVlO1xuIFx0XHQvLyB0aGlzW1wicGxheWVyMFwiXSA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjb3BwQ2F0MGApKVxuIFx0XHQvLyB0aGlzW1wicGxheWVyMVwiXSA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjb3BwQ2F0MWApKVxuIFx0XHQvLyB0aGlzW1wicGxheWVyMlwiXSA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjb3BwQ2F0MmApKVxuIFx0XHQvLyB0aGlzW1wicGxheWVyM1wiXSA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjb3BwQ2F0M2ApKVxuIFx0XHQvLyB2YXIgdG9ueSA9ICgpID0+IHtjb25zb2xlLmxvZyh0aGlzKX1cbiBcdFx0Ly8gZ2VvcmdlPXRvbnkuYmluZCh0aGlzKVxuIFx0XHQvLyBzZXRUaW1lb3V0KGdlb3JnZSwgMzAwMClcbiBcdFx0Ly8gY29uc29sZS5sb2coZGF0YSlcbiBcdFx0Ly8gY29uc29sZS5sb2codGhpcy5pbml0Y2FjaGUpXG4gXHRcdC8vY29uc29sZS5sb2coJ0dhbWUgQmVnaW5uaW5nJyk7XG4gXHR9KTtcblxuICAgICAgICB0aGlzLmNhdEltYWdlT25lID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHRoaXMuY2F0SW1hZ2VPbmUuc3JjID0gJy9pbWFnZXMvQmxhY2tDYXRVcC5naWYnO1xuXG4gICAgICAgIHRoaXMuY2F0SW1hZ2VUd28gPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5jYXRJbWFnZVR3by5zcmMgPSAnL2ltYWdlcy9vcmFuZ2VDYXRTcHJpdGVVcC5naWYnO1xuXG4gICAgXG4gICAgfSlcbiAgICAuY29tcG9uZW50KCdnYW1lJywge1xuICAgICAgICBiaW5kaW5ncyA6IHt9LFxuICAgICAgICBjb250cm9sbGVyIDogJ2dhbWVDdHJsJyxcbiAgICAgICAgdGVtcGxhdGVVcmwgOiAnLi90ZW1wbGF0ZXMvZ2FtZS5odG1sJ1xuICAgIH0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBSEEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./gameClient/src/game.js\n");

/***/ }),

/***/ "./gameClient/src/gamecanvas.js":
/*!**************************************!*\
  !*** ./gameClient/src/gamecanvas.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _require = __webpack_require__(/*! ../../shared/Ball */ \"./shared/Ball.js\"),\n    Ball = _require.Ball;\n\nvar _require2 = __webpack_require__(/*! ../../shared/Player */ \"./shared/Player.js\"),\n    Player = _require2.Player;\n\nvar _require3 = __webpack_require__(/*! ../../shared/gamelogic */ \"./shared/gamelogic.js\"),\n    TICK = _require3.TICK;\n\nangular.module('gameinstance').controller('gamecanvasCtrl', function () {\n    this.img1 = new Image();\n    this.img1.src = '/images/BlackCatUp.gif';\n    this.img2 = new Image();\n    this.img2.src = '/images/orangeCatSpriteUp.gif';\n\n    this.isLoading = true;\n    this.canvas;\n\n    this.lastDraw;\n\n    //map of keycodes to whether or not they're currently pressed                     \t\n    this.score = {\n        1: 0,\n        2: 0\n    };\n    this.keysPressed = {\n        65: false, // \"A\"-key\n        68: false, // \"D\" - key\n        87: false, // \"W\" -key\n        83: false, // \"S\" -key\n        32: false // space -key\n    };\n    //holder for frame to frame variance in location\n    //right is a postive or negative number (left neg)\n    //down is a positive or negative number (up neg)\n    //holder for keypresses\n    this.playerId = null;\n\n    this.players = {};\n\n    this.ball = new Ball();\n}).directive('anim', function () {\n    return {\n        //Restrict Directive invocation to Attribute on Element\n        restrict: 'A',\n        //Link registers Dom listeners and can update DOM\n        //executed after template is cloned\n        link: function link(scope, element, attrs, controller, transcludeFn) {\n            // scope is an AngularJS scope object.\n            // element is the jqLite-wrapped element that this directive matches.\n            // attrs is a hash object with key-value pairs of normalized attribute names and their corresponding attribute values.\n            // controller is the directive's required controller instance(s) or its own controller (if any). The exact value depends on the directive's require property.\n            // transcludeFn is a transclude linking function pre-bound to the correct transclusion scope.\n\n            var ctrl = scope.$ctrl;\n            //console.log(ctrl);\n            //el[0] === the canvas object we drop the directive on\n            var canvas = element[0];\n            //fetch 2d context for canvas to draw\n            var ctx = canvas.getContext('2d');\n            //temp global object for player speed\n\n            var shouldStart = false;\n\n            var colorArray = ['#35AFD8', '#327ECE', '#39C1BF', '#35D8A7', '#32CE74'];\n            //main draw loop (all draw fucntions live in here)                    \n            var gameLoop = function gameLoop() {\n                //console.log('rendering');\n                if (!ctrl.isLoading) {\n                    //window.requestAnimationFrame(gameLoop);\n                } else {}\n\n                    // window.requestAnimationFrame(loadingLoop);\n\n                    //console.log('rendering2');\n                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                ctx.fillStyle = 'LightGreen';\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                ctx.font = '40px Arial';\n                ctx.fillStyle = 'white';\n                ctx.fillText(ctrl.score[1] + ' : ' + ctrl.score[2], 561, 40);\n                ctx.fillRect(50, 0, 4, 650);\n                ctx.fillRect(1146, 0, 4, 650);\n                ctx.fillRect(598, 0, 4, 650);\n                ctx.beginPath();\n                ctx.arc(600, 325, 75, 0, 2 * Math.PI, false);\n                ctx.lineWidth = 4;\n                ctx.strokeStyle = 'white';\n                ctx.stroke();\n                ctrl.ball.draw(ctx);\n                drawPlayers();\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 250, 50, 150);\n                ctx.fillRect(1150, 250, 50, 150);\n                ctrl.ball.move();\n                //scope.$digest();\n            };\n\n            var drawPlayers = function drawPlayers() {\n                if (shouldStart) {\n                    var keys = Object.keys(ctrl.players);\n\n                    keys.forEach(function (key) {\n                        ctrl.players[key].draw(ctx);\n                    });\n                }\n\n                //ctx.drawImage(ctrl.canvas, ctrl.player.x, ctrl.player.y);\n                // ctrl.player.currentX += (ctrl.player.right * frameTimeDelta);\n                // ctrl.player.currentY += (ctrl.player.down  * frameTimeDelta);\n            };\n\n            //iterate through keys pressed, check for true\n            //if the key is pressed, change player vector based on keymap\n            //set depressed keys to zero, unless alternate key is also pressed                    \n            var alterPlayer = function alterPlayer() {\n\n                var k = ctrl.keysPressed;\n                var p = ctrl.players[ctrl.playerId];\n                console.log('id', ctrl.playerId, 'players', ctrl.players, 'player', p);\n                var r = p.rotation;\n                if (k[65] && k[87]) {\n                    r = 3;\n                } else if (k[87] && k[68]) {\n                    r = 1;\n                } else if (k[68] && k[83]) {\n                    r = 7;\n                } else if (k[83] && k[65]) {\n                    r = 5;\n                } else if (k[87]) {\n                    r = 2;\n                } else if (k[68]) {\n                    r = 0;\n                } else if (k[83]) {\n                    r = 6;\n                } else if (k[65]) {\n                    r = 4;\n                }\n\n                p.handleRotation(r);\n                p.transmit(ctrl.socket);\n            };\n            //route based on keydown to toggle key press map                    \n            var keyupHandler = function keyupHandler(e) {\n\n                if (ctrl.keysPressed[e.keyCode] === undefined) return;\n                if (e.keyCode === 32) {\n                    ctrl.player.spacePressed = false;\n                }\n                ctrl.keysPressed[e.keyCode] = false;\n                alterPlayer();\n            };\n            //route based on keyup to detoggle key press map\n            var keydownHandler = function keydownHandler(e) {\n                if (ctrl.keysPressed[e.keyCode] === undefined) return;\n                if (e.keyCode === 32) {\n                    ctrl.player.spacePressed = true;\n                }\n                ctrl.keysPressed[e.keyCode] = true;\n                alterPlayer();\n            };\n            //add global event listeners that rout to the kepress routers\n            angular.element(window).on('keydown', keydownHandler);\n            angular.element(window).on('keyup', keyupHandler);\n\n            ctrl.socket.on('sync', function (data) {\n                var players = data.players,\n                    score = data.score;\n\n                ctrl.score = score;\n\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = players[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var player = _step.value;\n                        var rotation = player.rotation,\n                            id = player.id,\n                            x = player.x,\n                            y = player.y;\n\n\n                        ctrl.players[id].setPos(x, y, rotation);\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n            });\n\n            ctrl.socket.on('you', function (msg) {\n                var playerId = msg.playerId;\n\n                ctrl.playerId = playerId;\n                console.log(ctrl.playerId, 'you');\n            });\n\n            ctrl.socket.on('initGame', function (data) {\n                var players = data.players,\n                    score = data.score;\n\n                ctrl.isLoading = false;\n                ctrl.score = score;\n                console.log('Game starting');\n\n                shouldStart = true;\n\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                    for (var _iterator2 = players[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                        var player = _step2.value;\n                        var rotation = player.rotation,\n                            team = player.team,\n                            id = player.id,\n                            x = player.x,\n                            y = player.y;\n\n                        ctrl.players[id] = new Player(team, id, true);\n                        ctrl.players[id].setPos(x, y, rotation);\n\n                        ctrl.players[id].img = team === 1 ? ctrl.img1 : ctrl.img2;\n\n                        var playercanvas = document.createElement('CANVAS');\n                        playercanvas.id = id;\n                        playercanvas.height = 100;\n                        playercanvas.width = 100;\n                        // rotate 45 degrees clockwise\n                        ctrl.players[id].canvas = playercanvas;\n                    }\n                } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                            _iterator2.return();\n                        }\n                    } finally {\n                        if (_didIteratorError2) {\n                            throw _iteratorError2;\n                        }\n                    }\n                }\n\n                console.log(ctrl.players);\n            });\n\n            //call the main draw loop\n            setInterval(gameLoop, TICK);\n        }\n    };\n})\n\n// SPRITE ANIMATION AND ROTATION\n.directive('move', function () {\n    return {\n        restrict: 'A',\n\n        link: function link(scope, element) {\n            var ctrl = scope.$ctrl;\n\n            ctrl.canvas = element[0];\n            var canvas = element[0];\n\n            var ctx = canvas.getContext('2d');\n\n            //refactor to not loop?                \n            function gameLoop() {\n                if (ctrl.player) {\n                    window.requestAnimationFrame(gameLoop);\n                    ctx.clearRect(0, 0, canvas.height, canvas.width);\n\n                    var spin = ctrl.player.rotation;\n\n                    ctx.translate(canvas.width / 2, canvas.height / 2);\n                    ctx.rotate(spin * Math.PI / 180);\n                    if (!(ctrl.player.team % 2)) {\n                        ctx.drawImage(ctrl.teamoneimg, 0, 0, 25, 60, -14, -20, 25, 60);\n                    } else {\n                        ctx.drawImage(ctrl.teamtwoimg, 0, 0, 25, 60, -14, -20, 25, 60);\n                    }\n                    ctx.rotate((0 - spin) * Math.PI / 180);\n                    ctx.translate(-canvas.width / 2, -canvas.height / 2);\n                }\n            }\n\n            gameLoop();\n            angular.element(window).on('keydown');\n            angular.element(window).on('keyup');\n        }\n\n    };\n}).component('gamecanvas', {\n    bindings: {\n        teamoneimg: '=',\n        teamtwoimg: '=',\n        socket: '=',\n        cache: '=',\n        initcache: '='\n    },\n    controller: 'gamecanvasCtrl',\n    templateUrl: './templates/gamecanvas.html'\n\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9nYW1lQ2xpZW50L3NyYy9nYW1lY2FudmFzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2dhbWVDbGllbnQvc3JjL2dhbWVjYW52YXMuanM/ZjIxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IEJhbGwgfSAgPSByZXF1aXJlKCcuLi8uLi9zaGFyZWQvQmFsbCcpO1xuY29uc3QgeyBQbGF5ZXIgfSA9IHJlcXVpcmUoJy4uLy4uL3NoYXJlZC9QbGF5ZXInKTtcbmNvbnN0IHsgVElDSyB9ID0gcmVxdWlyZSgnLi4vLi4vc2hhcmVkL2dhbWVsb2dpYycpO1xuYW5ndWxhci5tb2R1bGUoJ2dhbWVpbnN0YW5jZScpXG4gICAgLmNvbnRyb2xsZXIoJ2dhbWVjYW52YXNDdHJsJywgZnVuY3Rpb24gKCkgXG4gICAge1xuICAgICAgICB0aGlzLmltZzEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5pbWcxLnNyYyA9ICcvaW1hZ2VzL0JsYWNrQ2F0VXAuZ2lmJztcbiAgICAgICAgdGhpcy5pbWcyID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHRoaXMuaW1nMi5zcmMgPSAnL2ltYWdlcy9vcmFuZ2VDYXRTcHJpdGVVcC5naWYnO1xuXG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jYW52YXM7XG5cbiAgICAgICAgdGhpcy5sYXN0RHJhdztcblxuICAgICAgICAvL21hcCBvZiBrZXljb2RlcyB0byB3aGV0aGVyIG9yIG5vdCB0aGV5J3JlIGN1cnJlbnRseSBwcmVzc2VkICAgICAgICAgICAgICAgICAgICAgXHRcbiAgICAgICAgdGhpcy5zY29yZSA9IHtcbiAgICAgICAgICAgIDE6MCxcbiAgICAgICAgICAgIDI6MFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmtleXNQcmVzc2VkID0ge1xuICAgICAgICAgICAgNjUgOiBmYWxzZSwgLy8gXCJBXCIta2V5XG4gICAgICAgICAgICA2OCA6IGZhbHNlLCAvLyBcIkRcIiAtIGtleVxuICAgICAgICAgICAgODcgOiBmYWxzZSwgLy8gXCJXXCIgLWtleVxuICAgICAgICAgICAgODMgOiBmYWxzZSwgLy8gXCJTXCIgLWtleVxuICAgICAgICAgICAgMzIgOiBmYWxzZSwgLy8gc3BhY2UgLWtleVxuICAgICAgICB9OyBcbiAgICAgICAgLy9ob2xkZXIgZm9yIGZyYW1lIHRvIGZyYW1lIHZhcmlhbmNlIGluIGxvY2F0aW9uXG4gICAgICAgIC8vcmlnaHQgaXMgYSBwb3N0aXZlIG9yIG5lZ2F0aXZlIG51bWJlciAobGVmdCBuZWcpXG4gICAgICAgIC8vZG93biBpcyBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIG51bWJlciAodXAgbmVnKVxuICAgICAgICAvL2hvbGRlciBmb3Iga2V5cHJlc3Nlc1xuICAgICAgICB0aGlzLnBsYXllcklkID0gbnVsbDsgXG5cbiAgICAgICAgdGhpcy5wbGF5ZXJzID0ge307XG5cbiAgICAgICAgdGhpcy5iYWxsID0gbmV3IEJhbGwoKTtcbiAgICB9KVxuICAgIC5kaXJlY3RpdmUoJ2FuaW0nLCBmdW5jdGlvbigpXG4gICAgeyAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy9SZXN0cmljdCBEaXJlY3RpdmUgaW52b2NhdGlvbiB0byBBdHRyaWJ1dGUgb24gRWxlbWVudFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIC8vTGluayByZWdpc3RlcnMgRG9tIGxpc3RlbmVycyBhbmQgY2FuIHVwZGF0ZSBET01cbiAgICAgICAgICAgIC8vZXhlY3V0ZWQgYWZ0ZXIgdGVtcGxhdGUgaXMgY2xvbmVkXG4gICAgICAgICAgICBsaW5rIDogKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlciwgdHJhbnNjbHVkZUZuKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHNjb3BlIGlzIGFuIEFuZ3VsYXJKUyBzY29wZSBvYmplY3QuXG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudCBpcyB0aGUganFMaXRlLXdyYXBwZWQgZWxlbWVudCB0aGF0IHRoaXMgZGlyZWN0aXZlIG1hdGNoZXMuXG4gICAgICAgICAgICAgICAgLy8gYXR0cnMgaXMgYSBoYXNoIG9iamVjdCB3aXRoIGtleS12YWx1ZSBwYWlycyBvZiBub3JtYWxpemVkIGF0dHJpYnV0ZSBuYW1lcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xsZXIgaXMgdGhlIGRpcmVjdGl2ZSdzIHJlcXVpcmVkIGNvbnRyb2xsZXIgaW5zdGFuY2Uocykgb3IgaXRzIG93biBjb250cm9sbGVyIChpZiBhbnkpLiBUaGUgZXhhY3QgdmFsdWUgZGVwZW5kcyBvbiB0aGUgZGlyZWN0aXZlJ3MgcmVxdWlyZSBwcm9wZXJ0eS5cbiAgICAgICAgICAgICAgICAvLyB0cmFuc2NsdWRlRm4gaXMgYSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb24gcHJlLWJvdW5kIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZS5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIGN0cmwgPSBzY29wZS4kY3RybDtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGN0cmwpO1xuICAgICAgICAgICAgICAgIC8vZWxbMF0gPT09IHRoZSBjYW52YXMgb2JqZWN0IHdlIGRyb3AgdGhlIGRpcmVjdGl2ZSBvblxuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBlbGVtZW50WzBdO1xuICAgICAgICAgICAgICAgIC8vZmV0Y2ggMmQgY29udGV4dCBmb3IgY2FudmFzIHRvIGRyYXdcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICAgICAgLy90ZW1wIGdsb2JhbCBvYmplY3QgZm9yIHBsYXllciBzcGVlZFxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIHNob3VsZFN0YXJ0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvckFycmF5ID0gW1xuICAgICAgICAgICAgICAgICAgICAnIzM1QUZEOCcsXG4gICAgICAgICAgICAgICAgICAgICcjMzI3RUNFJyxcbiAgICAgICAgICAgICAgICAgICAgJyMzOUMxQkYnLFxuICAgICAgICAgICAgICAgICAgICAnIzM1RDhBNycsXG4gICAgICAgICAgICAgICAgICAgICcjMzJDRTc0J1xuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgLy9tYWluIGRyYXcgbG9vcCAoYWxsIGRyYXcgZnVjbnRpb25zIGxpdmUgaW4gaGVyZSkgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBnYW1lTG9vcCA9IGZ1bmN0aW9uICgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdyZW5kZXJpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdHJsLmlzTG9hZGluZyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvYWRpbmdMb29wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdyZW5kZXJpbmcyJyk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ0xpZ2h0R3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwwLGNhbnZhcy53aWR0aCxjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZvbnQgPSAnNDBweCBBcmlhbCc7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoYCR7Y3RybC5zY29yZVsxXX0gOiAke2N0cmwuc2NvcmVbMl19YCw1NjEsIDQwKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDUwLDAsNCw2NTApO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMTE0NiwwLDQsNjUwKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDU5OCwwLDQsNjUwKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICBjdHguYXJjKDYwMCwzMjUgLCA3NSwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgY3RybC5iYWxsLmRyYXcoY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgZHJhd1BsYXllcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLDI1MCwgNTAsIDE1MCk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCgxMTUwLDI1MCw1MCwxNTApO1xuICAgICAgICAgICAgICAgICAgICBjdHJsLmJhbGwubW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAvL3Njb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBkcmF3UGxheWVycyA9IGZ1bmN0aW9uICgpXG4gICAgICAgICAgICAgICAgeyAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU3RhcnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGN0cmwucGxheWVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMuZm9yRWFjaChrZXk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnBsYXllcnNba2V5XS5kcmF3KGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vY3R4LmRyYXdJbWFnZShjdHJsLmNhbnZhcywgY3RybC5wbGF5ZXIueCwgY3RybC5wbGF5ZXIueSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGN0cmwucGxheWVyLmN1cnJlbnRYICs9IChjdHJsLnBsYXllci5yaWdodCAqIGZyYW1lVGltZURlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY3RybC5wbGF5ZXIuY3VycmVudFkgKz0gKGN0cmwucGxheWVyLmRvd24gICogZnJhbWVUaW1lRGVsdGEpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vaXRlcmF0ZSB0aHJvdWdoIGtleXMgcHJlc3NlZCwgY2hlY2sgZm9yIHRydWVcbiAgICAgICAgICAgICAgICAvL2lmIHRoZSBrZXkgaXMgcHJlc3NlZCwgY2hhbmdlIHBsYXllciB2ZWN0b3IgYmFzZWQgb24ga2V5bWFwXG4gICAgICAgICAgICAgICAgLy9zZXQgZGVwcmVzc2VkIGtleXMgdG8gemVybywgdW5sZXNzIGFsdGVybmF0ZSBrZXkgaXMgYWxzbyBwcmVzc2VkICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgYWx0ZXJQbGF5ZXIgPSBmdW5jdGlvbiAoKXtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrID0gY3RybC5rZXlzUHJlc3NlZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IGN0cmwucGxheWVyc1tjdHJsLnBsYXllcklkXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2lkJywgY3RybC5wbGF5ZXJJZCwncGxheWVycycsY3RybC5wbGF5ZXJzLCdwbGF5ZXInLCBwKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHIgPSBwLnJvdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa1s2NV0gJiYga1s4N10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSAzO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtbODddICYmIGtbNjhdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrWzY4XSAmJiBrWzgzXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgciA9IDc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa1s4M10gJiYga1s2NV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSA1O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtbODddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gMjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrWzY4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa1s4M10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSA2O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtbNjVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHAuaGFuZGxlUm90YXRpb24ocik7XG4gICAgICAgICAgICAgICAgICAgIHAudHJhbnNtaXQoY3RybC5zb2NrZXQpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vcm91dGUgYmFzZWQgb24ga2V5ZG93biB0byB0b2dnbGUga2V5IHByZXNzIG1hcCAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIGtleXVwSGFuZGxlciA9IGZ1bmN0aW9uIChlKXtcbiAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN0cmwua2V5c1ByZXNzZWRbZS5rZXlDb2RlXSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDMyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucGxheWVyLnNwYWNlUHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN0cmwua2V5c1ByZXNzZWRbZS5rZXlDb2RlXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBhbHRlclBsYXllcigpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vcm91dGUgYmFzZWQgb24ga2V5dXAgdG8gZGV0b2dnbGUga2V5IHByZXNzIG1hcFxuICAgICAgICAgICAgICAgIHZhciBrZXlkb3duSGFuZGxlciA9IGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3RybC5rZXlzUHJlc3NlZFtlLmtleUNvZGVdID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5wbGF5ZXIuc3BhY2VQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdHJsLmtleXNQcmVzc2VkW2Uua2V5Q29kZV0gPSB0cnVlIDtcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJQbGF5ZXIoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvL2FkZCBnbG9iYWwgZXZlbnQgbGlzdGVuZXJzIHRoYXQgcm91dCB0byB0aGUga2VwcmVzcyByb3V0ZXJzXG4gICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KHdpbmRvdykub24oJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KHdpbmRvdykub24oJ2tleXVwJywga2V5dXBIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY3RybC5zb2NrZXQub24oJ3N5bmMnLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHBsYXllcnMsIHNjb3JlIH0gPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICBjdHJsLnNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBwbGF5ZXIgb2YgcGxheWVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHJvdGF0aW9uLCBpZCwgeCwgeSB9ID0gcGxheWVyO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnBsYXllcnNbaWRdLnNldFBvcyh4LCB5LCByb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgXG4gICAgICAgICAgICAgICAgY3RybC5zb2NrZXQub24oJ3lvdScsIChtc2cpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7cGxheWVySWR9ID0gbXNnO1xuICAgICAgICAgICAgICAgICAgICBjdHJsLnBsYXllcklkID0gcGxheWVySWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGN0cmwucGxheWVySWQsICd5b3UnKTtcblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY3RybC5zb2NrZXQub24oJ2luaXRHYW1lJywgKGRhdGEpPT57XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHtwbGF5ZXJzLCBzY29yZX0gPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICBjdHJsLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjdHJsLnNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXJ0aW5nJyk7XG4gICAgICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHBsYXllciBvZiBwbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHtyb3RhdGlvbiwgdGVhbSwgaWQsIHgsIHl9ID0gcGxheWVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5wbGF5ZXJzW2lkXSA9IG5ldyBQbGF5ZXIodGVhbSwgaWQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5wbGF5ZXJzW2lkXS5zZXRQb3MoeCwgeSwgcm90YXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnBsYXllcnNbaWRdLmltZyA9IHRlYW0gPT09IDEgPyBjdHJsLmltZzEgOiBjdHJsLmltZzI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbGF5ZXJjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdDQU5WQVMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcmNhbnZhcy5pZD1pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcmNhbnZhcy5oZWlnaHQgPSAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJjYW52YXMud2lkdGggPSAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByb3RhdGUgNDUgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucGxheWVyc1tpZF0uY2FudmFzID0gcGxheWVyY2FudmFzO1xuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGN0cmwucGxheWVycyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvL2NhbGwgdGhlIG1haW4gZHJhdyBsb29wXG4gICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoIGdhbWVMb29wLCBUSUNLKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICBcbiAgICB9KVxuXG5cbiAgICAvLyBTUFJJVEUgQU5JTUFUSU9OIEFORCBST1RBVElPTlxuICAgIC5kaXJlY3RpdmUoJ21vdmUnLCBmdW5jdGlvbigpIFxuICAgIHtcbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgcmVzdHJpY3QgOiAnQScsXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxpbmsgOiAoc2NvcGUsIGVsZW1lbnQpID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBjdHJsID0gc2NvcGUuJGN0cmw7XG4gICAgICAgICAgXG4gICAgICAgICAgICAgICAgY3RybC5jYW52YXMgPSBlbGVtZW50WzBdO1xuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBlbGVtZW50WzBdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgIFxuICAgICAgICAgICAgICAgIC8vcmVmYWN0b3IgdG8gbm90IGxvb3A/ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdhbWVMb29wKClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGN0cmwucGxheWVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMuaGVpZ2h0LCBjYW52YXMud2lkdGgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BpbiA9IGN0cmwucGxheWVyLnJvdGF0aW9uO1xuIFxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKHNwaW4gKiBNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGN0cmwucGxheWVyLnRlYW0gJSAyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoY3RybC50ZWFtb25laW1nLCAwLCAwLCAyNSwgNjAsIC0xNCwgLTIwLCAyNSwgNjApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGN0cmwudGVhbXR3b2ltZywgMCwgMCwgMjUsIDYwLCAtMTQsIC0yMCwgMjUsIDYwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoKDAgLSBzcGluKSAqIE1hdGguUEkgLyAxODApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSgtY2FudmFzLndpZHRoIC8gMiwgLWNhbnZhcy5oZWlnaHQgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0gICBcblxuICAgICAgICAgICAgICAgIGdhbWVMb29wKCk7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KHdpbmRvdykub24oJ2tleWRvd24nKTtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQod2luZG93KS5vbigna2V5dXAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9OyAgIFxuICAgICAgICBcbiAgICB9KVxuICAgIC5jb21wb25lbnQoJ2dhbWVjYW52YXMnLCB7XG4gICAgICAgIGJpbmRpbmdzIDoge1xuICAgICAgICAgICAgdGVhbW9uZWltZyA6ICc9JyxcbiAgICAgICAgICAgIHRlYW10d29pbWc6ICc9JywgXG4gICAgICAgICAgICBzb2NrZXQ6ICc9JyxcbiAgICAgICAgICAgIGNhY2hlIDogJz0nLFxuICAgICAgICAgICAgaW5pdGNhY2hlIDogJz0nXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xsZXIgOiAnZ2FtZWNhbnZhc0N0cmwnLFxuICAgICAgICB0ZW1wbGF0ZVVybCA6ICcuL3RlbXBsYXRlcy9nYW1lY2FudmFzLmh0bWwnXG5cbiAgICB9KTsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBWkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUkE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQVNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUF4QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBd0JBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQW5NQTtBQXdNQTtBQUNBO0FBRUE7QUFoUEE7QUFtUEE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdENBO0FBeUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFWQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./gameClient/src/gamecanvas.js\n");

/***/ }),

/***/ "./gameClient/src/index.js":
/*!*********************************!*\
  !*** ./gameClient/src/index.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nangular.module('gameinstance', []);\n\n__webpack_require__(/*! ./game */ \"./gameClient/src/game.js\");\n__webpack_require__(/*! ./gamecanvas */ \"./gameClient/src/gamecanvas.js\");\n__webpack_require__(/*! ./opponentCat */ \"./gameClient/src/opponentCat.js\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9nYW1lQ2xpZW50L3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9nYW1lQ2xpZW50L3NyYy9pbmRleC5qcz8zNmY0Il0sInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdnYW1laW5zdGFuY2UnLCBbXSk7XG5cbnJlcXVpcmUoJy4vZ2FtZScpO1xucmVxdWlyZSgnLi9nYW1lY2FudmFzJyk7XG5yZXF1aXJlKCcuL29wcG9uZW50Q2F0Jyk7Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./gameClient/src/index.js\n");

/***/ }),

/***/ "./gameClient/src/opponentCat.js":
/*!***************************************!*\
  !*** ./gameClient/src/opponentCat.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nangular.module('gameinstance').controller('opponentCatCtrl', function () {\n    this.canvas;\n    // NEEED THE FOLLOWING FOR ROTATING PLAYER CAT TO FUNCTION\n    //CURRENT VECTOR\n\n    //RELEVANT TEAM COLORED CAT\n    this.img;\n    //define prerequisites for rotation map\n    this.speed = 5;\n    var pos = this.speed;\n    var neg = 0 - this.speed;\n    //define custom rotation map (needs to be specific to each cat)\n    //ROTATION MAP : stupid manual degree mapping function that\n    //wont render any direction that's not at a 45 degrees or 90\n    //should rewrite for mittens mode\n    // this.rotation = {\n    //     [neg] : {\n    //         [neg] : 315,\n    //         0  : 270,\n    //         [pos]  : 225\n    //     },\n    //     0 : {\n    //         [neg] : 0,\n    //         0  : 0,\n    //         [pos]  : 180\n    //     },\n    //     [pos] : {\n    //         [neg] : 45,\n    //         0 : 90,\n    //         [pos] : 135\n    //     }\n    //    }\n}).directive('multiplayer', function () {\n    return {\n        restrict: 'A',\n        //TO DO : INSERT ANIMATION IF Math.abs(RIGHT) + Math.abs(down) > 0\n        link: function link(scope, element) {\n            //console.log(scope);\n            //set ctrl to scope of controller\n            var ctrl = scope.$ctrl;\n            ctrl.img = ctrl.teamoneimg;\n\n            //check to see the functionality oof this in the paren anim directive\n            ctrl.canvas = element[0];\n            //set canvas var to cbe the canvas object that the directive lives on\n            var canvas = element[0];\n            //define 2d context on canvas\n            var ctx = canvas.getContext('2d');\n\n            function rotateOpponent() {\n                //call animation frame\n                // console.log(ctrl)\n                // console.log(ctrl.rotation)\n\n                //clear previous frame\n                ctx.clearRect(0, 0, canvas.height, canvas.width);\n                //set rotation for opponent cat\n                var spin = ctrl.rotation;\n                // set hold state to current direciton <<<<<< NECCESSITATES SEPARATE ROTATION MAPS FOPR EACH CAT\n                // ctrl.rotation[0][0] = ctrl.rotation\n                //define  rotation origin as center of the canvas\n                ctx.translate(canvas.width / 2, canvas.height / 2);\n                //rotate canvas around center point\n                ctx.rotate(spin * Math.PI / 180);\n                //draw cat on rotated canvaS\n                ctx.drawImage(ctrl.img, 0, 0, 25, 60, -14, -20, 25, 60);\n                // ctx.drawImage(this.catImage,0,0,25,60,-12,-30,25,60)\n                //reset coordinate system for other rotations\n                ctx.rotate((0 - spin) * Math.PI / 180);\n                //reset rotation point\n                ctx.translate(-canvas.width / 2, -canvas.height / 2);\n            }\n            //call rotation upon change in rotation in scope\n            scope.$watch(function (scope) {\n                return scope.$ctrl.rotation;\n            }, function () {\n                rotateOpponent();\n            });\n        }\n\n    };\n}).component('opponentcat', {\n    bindings: {\n        playervector: '=',\n        teamoneimg: '=',\n        rotation: '<',\n        ident: '<'\n    },\n    controller: 'opponentCatCtrl',\n    templateUrl: './templates/opponentcat.html'\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9nYW1lQ2xpZW50L3NyYy9vcHBvbmVudENhdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9nYW1lQ2xpZW50L3NyYy9vcHBvbmVudENhdC5qcz81OGVjIl0sInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdnYW1laW5zdGFuY2UnKVxuICAgIC5jb250cm9sbGVyKCdvcHBvbmVudENhdEN0cmwnLCBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmNhbnZhcztcbiAgICAgICAgLy8gTkVFRUQgVEhFIEZPTExPV0lORyBGT1IgUk9UQVRJTkcgUExBWUVSIENBVCBUTyBGVU5DVElPTlxuICAgICAgICAvL0NVUlJFTlQgVkVDVE9SXG5cbiAgICAgICAgLy9SRUxFVkFOVCBURUFNIENPTE9SRUQgQ0FUXG4gICAgICAgIHRoaXMuaW1nO1xuICAgICAgICAvL2RlZmluZSBwcmVyZXF1aXNpdGVzIGZvciByb3RhdGlvbiBtYXBcbiAgICAgICAgdGhpcy5zcGVlZCA9IDU7XG4gICAgICAgIHZhciBwb3MgPSB0aGlzLnNwZWVkO1xuICAgICAgICB2YXIgbmVnID0gMCAtIHRoaXMuc3BlZWQ7XG4gICAgICAgIC8vZGVmaW5lIGN1c3RvbSByb3RhdGlvbiBtYXAgKG5lZWRzIHRvIGJlIHNwZWNpZmljIHRvIGVhY2ggY2F0KVxuICAgICAgICAvL1JPVEFUSU9OIE1BUCA6IHN0dXBpZCBtYW51YWwgZGVncmVlIG1hcHBpbmcgZnVuY3Rpb24gdGhhdFxuICAgICAgICAvL3dvbnQgcmVuZGVyIGFueSBkaXJlY3Rpb24gdGhhdCdzIG5vdCBhdCBhIDQ1IGRlZ3JlZXMgb3IgOTBcbiAgICAgICAgLy9zaG91bGQgcmV3cml0ZSBmb3IgbWl0dGVucyBtb2RlXG5cdCAgICAvLyB0aGlzLnJvdGF0aW9uID0ge1xuXHQgICAgLy8gICAgIFtuZWddIDoge1xuXHQgICAgLy8gICAgICAgICBbbmVnXSA6IDMxNSxcblx0ICAgIC8vICAgICAgICAgMCAgOiAyNzAsXG5cdCAgICAvLyAgICAgICAgIFtwb3NdICA6IDIyNVxuXHQgICAgLy8gICAgIH0sXG5cdCAgICAvLyAgICAgMCA6IHtcblx0ICAgIC8vICAgICAgICAgW25lZ10gOiAwLFxuXHQgICAgLy8gICAgICAgICAwICA6IDAsXG5cdCAgICAvLyAgICAgICAgIFtwb3NdICA6IDE4MFxuXHQgICAgLy8gICAgIH0sXG5cdCAgICAvLyAgICAgW3Bvc10gOiB7XG5cdCAgICAvLyAgICAgICAgIFtuZWddIDogNDUsXG5cdCAgICAvLyAgICAgICAgIDAgOiA5MCxcblx0ICAgIC8vICAgICAgICAgW3Bvc10gOiAxMzVcblx0ICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgIH1cblxuICAgIH0pXG4gICAgLmRpcmVjdGl2ZSgnbXVsdGlwbGF5ZXInLCBmdW5jdGlvbigpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0IDogJ0EnLFxuICAgICAgICAgICAgLy9UTyBETyA6IElOU0VSVCBBTklNQVRJT04gSUYgTWF0aC5hYnMoUklHSFQpICsgTWF0aC5hYnMoZG93bikgPiAwXG4gICAgICAgICAgICBsaW5rIDogKHNjb3BlLCBlbGVtZW50KSA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHNjb3BlKTtcbiAgICAgICAgICAgICAgICAvL3NldCBjdHJsIHRvIHNjb3BlIG9mIGNvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICB2YXIgY3RybCA9IHNjb3BlLiRjdHJsO1xuICAgICAgICAgICAgICAgIGN0cmwuaW1nID0gY3RybC50ZWFtb25laW1nO1xuXG4gICAgICAgICAgICAgICAgLy9jaGVjayB0byBzZWUgdGhlIGZ1bmN0aW9uYWxpdHkgb29mIHRoaXMgaW4gdGhlIHBhcmVuIGFuaW0gZGlyZWN0aXZlXG4gICAgICAgICAgICAgICAgY3RybC5jYW52YXMgPSBlbGVtZW50WzBdO1xuICAgICAgICAgICAgICAgIC8vc2V0IGNhbnZhcyB2YXIgdG8gY2JlIHRoZSBjYW52YXMgb2JqZWN0IHRoYXQgdGhlIGRpcmVjdGl2ZSBsaXZlcyBvblxuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBlbGVtZW50WzBdO1xuICAgICAgICAgICAgICAgIC8vZGVmaW5lIDJkIGNvbnRleHQgb24gY2FudmFzXG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcm90YXRlT3Bwb25lbnQoKXtcbiAgICAgICAgICAgICAgICAgICAgLy9jYWxsIGFuaW1hdGlvbiBmcmFtZVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjdHJsKVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjdHJsLnJvdGF0aW9uKVxuXHRcdFx0XHRcdFxuICAgICAgICAgICAgICAgICAgICAvL2NsZWFyIHByZXZpb3VzIGZyYW1lXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwwLGNhbnZhcy5oZWlnaHQsIGNhbnZhcy53aWR0aCk7XG4gICAgICAgICAgICAgICAgICAgIC8vc2V0IHJvdGF0aW9uIGZvciBvcHBvbmVudCBjYXRcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwaW4gPSBjdHJsLnJvdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgaG9sZCBzdGF0ZSB0byBjdXJyZW50IGRpcmVjaXRvbiA8PDw8PDwgTkVDQ0VTU0lUQVRFUyBTRVBBUkFURSBST1RBVElPTiBNQVBTIEZPUFIgRUFDSCBDQVRcbiAgICAgICAgICAgICAgICAgICAgLy8gY3RybC5yb3RhdGlvblswXVswXSA9IGN0cmwucm90YXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy9kZWZpbmUgIHJvdGF0aW9uIG9yaWdpbiBhcyBjZW50ZXIgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKGNhbnZhcy53aWR0aC8yLCBjYW52YXMuaGVpZ2h0LzIpO1xuICAgICAgICAgICAgICAgICAgICAvL3JvdGF0ZSBjYW52YXMgYXJvdW5kIGNlbnRlciBwb2ludFxuICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKHNwaW4qTWF0aC5QSSAvIDE4MCk7XG4gICAgICAgICAgICAgICAgICAgIC8vZHJhdyBjYXQgb24gcm90YXRlZCBjYW52YVNcbiAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShjdHJsLmltZywwLDAsMjUsNjAsLTE0LC0yMCwyNSw2MCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGN0eC5kcmF3SW1hZ2UodGhpcy5jYXRJbWFnZSwwLDAsMjUsNjAsLTEyLC0zMCwyNSw2MClcbiAgICAgICAgICAgICAgICAgICAgLy9yZXNldCBjb29yZGluYXRlIHN5c3RlbSBmb3Igb3RoZXIgcm90YXRpb25zXG4gICAgICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoKDAgLSBzcGluKSpNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXNldCByb3RhdGlvbiBwb2ludFxuICAgICAgICAgICAgICAgICAgICBjdHgudHJhbnNsYXRlKC1jYW52YXMud2lkdGgvMiwgLWNhbnZhcy5oZWlnaHQvMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vY2FsbCByb3RhdGlvbiB1cG9uIGNoYW5nZSBpbiByb3RhdGlvbiBpbiBzY29wZVxuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbihzY29wZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS4kY3RybC5yb3RhdGlvbjtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbigpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByb3RhdGVPcHBvbmVudCgpO1xuICAgICAgICAgICAgICAgIH0pO1x0XHRcdFx0XG5cdFx0XHRcdFxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcbiAgICB9KVxuICAgIC5jb21wb25lbnQoJ29wcG9uZW50Y2F0Jywge1xuICAgICAgICBiaW5kaW5ncyA6IHtcbiAgICAgICAgICAgIHBsYXllcnZlY3RvciA6ICc9JyxcbiAgICAgICAgICAgIHRlYW1vbmVpbWcgOiAnPScsXG4gICAgICAgICAgICByb3RhdGlvbiA6ICc8JyxcbiAgICAgICAgICAgIGlkZW50OiAnPCdcbiAgICAgICAgfSxcbiAgICAgICAgY29udHJvbGxlcjogJ29wcG9uZW50Q2F0Q3RybCcsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvb3Bwb25lbnRjYXQuaHRtbCdcbiAgICB9KTsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQW5EQTtBQXFEQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFSQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./gameClient/src/opponentCat.js\n");

/***/ }),

/***/ "./shared/Ball.js":
/*!************************!*\
  !*** ./shared/Ball.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// defined in gamecanvas.html\nconst {WIDTH, HEIGHT, TICK, hitBoxMap} = __webpack_require__(/*! ./gamelogic */ \"./shared/gamelogic.js\");\n\nclass Ball {\n\n    constructor() {\n        this.lastDrawn = Date.now();\n        this.x = 600;\n        this.y = 0;\n        this.dx = 0;\n        this.dy = .4;\n        this.lastUpdated = Date.now();\n      \n    }\n\n    setPos(x,y,dx,dy){\n        this.x = x;\n        this.y = y;\n        this.dx = dx;\n        this.dy = dy;\n    }\n    \n    reset() {\n        this.x = 600;\n        this.y = 0;\n        this.dx = 0;\n        this.dy = .4;\n        this.lastUpdated = Date.now();\n        this.lastDrawn = Date.now();\n    }\n\n    catHeadCollides(player) {\n        var currentCenterX = player.x + hitBoxMap[player.rotation][0];\n        var currentCenterY = player.y + hitBoxMap[player.rotation][1];\n        var ballCenterX = this.x + 5;\n        var ballCenterY = this.y + 5;\n        var ballCenterDelta = Math.sqrt(Math.pow((ballCenterX - currentCenterX), 2) + Math.pow((ballCenterY - currentCenterY), 2));\n\n        const facingRight = player.rotation > 90 && player.rotation < 270 ? 1 : 0;\n        const facingDown = player.rotation < 360 && player.rotation > 180 ? 1 : 0;\n\n        if(ballCenterDelta < 11){\n            this.dx += 1.05 * facingRight - this.dx;\n            this.dy += 1.05 * facingDown - this.dy;\n            if (player.kicking) {\n\n            // very slight random offset while kicking to keep things interesting\n                const xdiff = (Math.floor(Math.random() * 300) - 150) / 1000;\n                const ydiff = (Math.floor(Math.random() * 300) - 150) / 1000;\n\n                // new velocity based on player rotation\n                const dx = Math.cos(player.rotation * Math.PI / 180);\n                const dy = Math.sin(player.rotation * Math.PI / 180);\n\n                // pump up velocity, push ball out along kick direction\n                this.dx = dx+xdiff;\n                this.dy = dy+ydiff;\n\n                this.x += (3* this.dx)*TICK;\n                this.y += (3 * this.dy) * TICK;\n            }\n        } \n    }\n\n    catBodyCollides (player) {\n        var currentCenterX = player.x + 50;\n        var currentCenterY = player.y + 50;\n       \n        var ballCenterX = this.x + 5;\n        var ballCenterY = this.y + 5;\n\n        var ballCenterDelta = Math.sqrt(Math.pow((ballCenterX - currentCenterX), 2) + Math.pow((ballCenterY - currentCenterY), 2));\n\n        if (ballCenterDelta < 12){\n            const facingRight = player.rotation > 90 && player.rotation < 270 ? 1 : 0;\n            const facingDown =  player.rotation < 360 && player.rotation > 180 ? 1 : 0;\n            this.dx += (1.1 * (facingRight) - this.dx);\n            this.dy += (1.1 * (facingDown) - this.dy);\n        }\n    }\n\n    isGoal(){\n        var x = this.x;\n        var y = this.y;\n        // returns goal\n        if (y > 250 && y < 400) {\n            if (x < 55) {\n                return '1';\n            } else if (x > (WIDTH - 55)) {\n                return '2';\n            }\n        }\n        return false;\n    }\n\n    handleWallBounce () {\n        var x = this.x;\n        var y = this.y;\n        //handle horizontal bounce\n        if (x < 55 || x > (WIDTH - 55)) {\n            this.x -= ((2 * this.dx)) * TICK;\n            this.dx -= (2 * (this.dx));\n        }\n        // returns vertical bounce\n        if (y < 0 || y > (HEIGHT - 10)) {\n            this.y -= ((2 * this.dy)) * TICK;\n            this.dy -= (2 * (this.dy));\n        }\n    }\n\n    move () {\n        this.x += this.dx * TICK  ;\n        this.y += this.dy * TICK  ;\n\n        //friction on y axis\n        if (Math.abs(this.dy) > 0.02) {\n            if (this.dy > 0) {\n                this.dy -= .0021;\n            } else {\n                this.dy += .0021;\n            }\n        } else {\n            this.dy = 0;\n        }\n        //friction on x axis\n        if (Math.abs(this.dx) > 0.02) {\n            if (this.dx > 0) {\n                this.dx -= .0021;\n            } else {\n                this.dx += .0021;\n            }\n        } else {\n            this.dx = 0;\n        }\n    }\n\n    draw(ctx){\n     \n        ctx.beginPath();\n        ctx.arc(this.x, this.y, 7, 0, 2 * Math.PI, false);\n        ctx.fillStyle = 'red';\n        ctx.fill();\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = '#8b0000';\n        ctx.stroke();\n       \n    }\n}\n\nmodule.exports.Ball = Ball;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zaGFyZWQvQmFsbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NoYXJlZC9CYWxsLmpzPzFkNWQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZGVmaW5lZCBpbiBnYW1lY2FudmFzLmh0bWxcbmNvbnN0IHtXSURUSCwgSEVJR0hULCBUSUNLLCBoaXRCb3hNYXB9ID0gcmVxdWlyZSgnLi9nYW1lbG9naWMnKTtcblxuY2xhc3MgQmFsbCB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5sYXN0RHJhd24gPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLnggPSA2MDA7XG4gICAgICAgIHRoaXMueSA9IDA7XG4gICAgICAgIHRoaXMuZHggPSAwO1xuICAgICAgICB0aGlzLmR5ID0gLjQ7XG4gICAgICAgIHRoaXMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xuICAgICAgXG4gICAgfVxuXG4gICAgc2V0UG9zKHgseSxkeCxkeSl7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMuZHggPSBkeDtcbiAgICAgICAgdGhpcy5keSA9IGR5O1xuICAgIH1cbiAgICBcbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy54ID0gNjAwO1xuICAgICAgICB0aGlzLnkgPSAwO1xuICAgICAgICB0aGlzLmR4ID0gMDtcbiAgICAgICAgdGhpcy5keSA9IC40O1xuICAgICAgICB0aGlzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5sYXN0RHJhd24gPSBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIGNhdEhlYWRDb2xsaWRlcyhwbGF5ZXIpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRDZW50ZXJYID0gcGxheWVyLnggKyBoaXRCb3hNYXBbcGxheWVyLnJvdGF0aW9uXVswXTtcbiAgICAgICAgdmFyIGN1cnJlbnRDZW50ZXJZID0gcGxheWVyLnkgKyBoaXRCb3hNYXBbcGxheWVyLnJvdGF0aW9uXVsxXTtcbiAgICAgICAgdmFyIGJhbGxDZW50ZXJYID0gdGhpcy54ICsgNTtcbiAgICAgICAgdmFyIGJhbGxDZW50ZXJZID0gdGhpcy55ICsgNTtcbiAgICAgICAgdmFyIGJhbGxDZW50ZXJEZWx0YSA9IE1hdGguc3FydChNYXRoLnBvdygoYmFsbENlbnRlclggLSBjdXJyZW50Q2VudGVyWCksIDIpICsgTWF0aC5wb3coKGJhbGxDZW50ZXJZIC0gY3VycmVudENlbnRlclkpLCAyKSk7XG5cbiAgICAgICAgY29uc3QgZmFjaW5nUmlnaHQgPSBwbGF5ZXIucm90YXRpb24gPiA5MCAmJiBwbGF5ZXIucm90YXRpb24gPCAyNzAgPyAxIDogMDtcbiAgICAgICAgY29uc3QgZmFjaW5nRG93biA9IHBsYXllci5yb3RhdGlvbiA8IDM2MCAmJiBwbGF5ZXIucm90YXRpb24gPiAxODAgPyAxIDogMDtcblxuICAgICAgICBpZihiYWxsQ2VudGVyRGVsdGEgPCAxMSl7XG4gICAgICAgICAgICB0aGlzLmR4ICs9IDEuMDUgKiBmYWNpbmdSaWdodCAtIHRoaXMuZHg7XG4gICAgICAgICAgICB0aGlzLmR5ICs9IDEuMDUgKiBmYWNpbmdEb3duIC0gdGhpcy5keTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXIua2lja2luZykge1xuXG4gICAgICAgICAgICAvLyB2ZXJ5IHNsaWdodCByYW5kb20gb2Zmc2V0IHdoaWxlIGtpY2tpbmcgdG8ga2VlcCB0aGluZ3MgaW50ZXJlc3RpbmdcbiAgICAgICAgICAgICAgICBjb25zdCB4ZGlmZiA9IChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzMDApIC0gMTUwKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgY29uc3QgeWRpZmYgPSAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzAwKSAtIDE1MCkgLyAxMDAwO1xuXG4gICAgICAgICAgICAgICAgLy8gbmV3IHZlbG9jaXR5IGJhc2VkIG9uIHBsYXllciByb3RhdGlvblxuICAgICAgICAgICAgICAgIGNvbnN0IGR4ID0gTWF0aC5jb3MocGxheWVyLnJvdGF0aW9uICogTWF0aC5QSSAvIDE4MCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZHkgPSBNYXRoLnNpbihwbGF5ZXIucm90YXRpb24gKiBNYXRoLlBJIC8gMTgwKTtcblxuICAgICAgICAgICAgICAgIC8vIHB1bXAgdXAgdmVsb2NpdHksIHB1c2ggYmFsbCBvdXQgYWxvbmcga2ljayBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICB0aGlzLmR4ID0gZHgreGRpZmY7XG4gICAgICAgICAgICAgICAgdGhpcy5keSA9IGR5K3lkaWZmO1xuXG4gICAgICAgICAgICAgICAgdGhpcy54ICs9ICgzKiB0aGlzLmR4KSpUSUNLO1xuICAgICAgICAgICAgICAgIHRoaXMueSArPSAoMyAqIHRoaXMuZHkpICogVElDSztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBcbiAgICB9XG5cbiAgICBjYXRCb2R5Q29sbGlkZXMgKHBsYXllcikge1xuICAgICAgICB2YXIgY3VycmVudENlbnRlclggPSBwbGF5ZXIueCArIDUwO1xuICAgICAgICB2YXIgY3VycmVudENlbnRlclkgPSBwbGF5ZXIueSArIDUwO1xuICAgICAgIFxuICAgICAgICB2YXIgYmFsbENlbnRlclggPSB0aGlzLnggKyA1O1xuICAgICAgICB2YXIgYmFsbENlbnRlclkgPSB0aGlzLnkgKyA1O1xuXG4gICAgICAgIHZhciBiYWxsQ2VudGVyRGVsdGEgPSBNYXRoLnNxcnQoTWF0aC5wb3coKGJhbGxDZW50ZXJYIC0gY3VycmVudENlbnRlclgpLCAyKSArIE1hdGgucG93KChiYWxsQ2VudGVyWSAtIGN1cnJlbnRDZW50ZXJZKSwgMikpO1xuXG4gICAgICAgIGlmIChiYWxsQ2VudGVyRGVsdGEgPCAxMil7XG4gICAgICAgICAgICBjb25zdCBmYWNpbmdSaWdodCA9IHBsYXllci5yb3RhdGlvbiA+IDkwICYmIHBsYXllci5yb3RhdGlvbiA8IDI3MCA/IDEgOiAwO1xuICAgICAgICAgICAgY29uc3QgZmFjaW5nRG93biA9ICBwbGF5ZXIucm90YXRpb24gPCAzNjAgJiYgcGxheWVyLnJvdGF0aW9uID4gMTgwID8gMSA6IDA7XG4gICAgICAgICAgICB0aGlzLmR4ICs9ICgxLjEgKiAoZmFjaW5nUmlnaHQpIC0gdGhpcy5keCk7XG4gICAgICAgICAgICB0aGlzLmR5ICs9ICgxLjEgKiAoZmFjaW5nRG93bikgLSB0aGlzLmR5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzR29hbCgpe1xuICAgICAgICB2YXIgeCA9IHRoaXMueDtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnk7XG4gICAgICAgIC8vIHJldHVybnMgZ29hbFxuICAgICAgICBpZiAoeSA+IDI1MCAmJiB5IDwgNDAwKSB7XG4gICAgICAgICAgICBpZiAoeCA8IDU1KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcxJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeCA+IChXSURUSCAtIDU1KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnMic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGhhbmRsZVdhbGxCb3VuY2UgKCkge1xuICAgICAgICB2YXIgeCA9IHRoaXMueDtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnk7XG4gICAgICAgIC8vaGFuZGxlIGhvcml6b250YWwgYm91bmNlXG4gICAgICAgIGlmICh4IDwgNTUgfHwgeCA+IChXSURUSCAtIDU1KSkge1xuICAgICAgICAgICAgdGhpcy54IC09ICgoMiAqIHRoaXMuZHgpKSAqIFRJQ0s7XG4gICAgICAgICAgICB0aGlzLmR4IC09ICgyICogKHRoaXMuZHgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXR1cm5zIHZlcnRpY2FsIGJvdW5jZVxuICAgICAgICBpZiAoeSA8IDAgfHwgeSA+IChIRUlHSFQgLSAxMCkpIHtcbiAgICAgICAgICAgIHRoaXMueSAtPSAoKDIgKiB0aGlzLmR5KSkgKiBUSUNLO1xuICAgICAgICAgICAgdGhpcy5keSAtPSAoMiAqICh0aGlzLmR5KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlICgpIHtcbiAgICAgICAgdGhpcy54ICs9IHRoaXMuZHggKiBUSUNLICA7XG4gICAgICAgIHRoaXMueSArPSB0aGlzLmR5ICogVElDSyAgO1xuXG4gICAgICAgIC8vZnJpY3Rpb24gb24geSBheGlzXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmR5KSA+IDAuMDIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmR5ID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHkgLT0gLjAwMjE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZHkgKz0gLjAwMjE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmR5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvL2ZyaWN0aW9uIG9uIHggYXhpc1xuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5keCkgPiAwLjAyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5keCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR4IC09IC4wMDIxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR4ICs9IC4wMDIxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5keCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3KGN0eCl7XG4gICAgIFxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5hcmModGhpcy54LCB0aGlzLnksIDcsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmVkJztcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjOGIwMDAwJztcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgIFxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMuQmFsbCA9IEJhbGw7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./shared/Ball.js\n");

/***/ }),

/***/ "./shared/Player.js":
/*!**************************!*\
  !*** ./shared/Player.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("const { TICK, catSpeed} = __webpack_require__(/*! ./gamelogic */ \"./shared/gamelogic.js\");\n\nclass Player {\n    constructor(team,id){\n        this.team = team;\n        this.id = id;\n        this.x = 200;\n        this.y = 200;\n        this.canvas = null; // client side used\n        this.img = null; //client side used\n        this.rotation = 0;\n        this.canmove = true; \n        this.queuedTransmission = false;\n        this.lastTransmission = Date.now();\n\n    }\n\n    setPos(x,y,rotation){\n        this.x = x;\n        this.y = y;\n        this.rotation = rotation;\n    }\n\n    move(){\n        //rotation 0-7 correspond to a requested movement of 0deg, 45deg, 90deg, etc\n        const dx = Math.cos(this.rotation*45*Math.PI/180) ;\n        const dy = Math.sin(this.rotation*45 * Math.PI / 180) ;\n        this.x += dx * catSpeed * TICK;\n        this.y -= dy * catSpeed * TICK;\n        this.x = Math.floor(this.x);\n        this.y = Math.floor(this.y);\n        if(this.canvas){\n            console.log('rotating', this.rotation * 45);\n            this.canvas.getContext('2d').rotate(this.rotation * 45 * Math.PI / 180);\n            this.canvas.getContext('2d').save();\n        }\n    }\n \n    handleCollisions(){\n        const top = 0;\n        const bottom = 0;\n        const left = 0;\n        const right = 0;\n    }\n\n    // transmits the most recent movement as soon as possible\n    transmit(socket){\n        if(this.queuedTransmission) return;\n\n        const now = Date.now();\n        if (now-this.lastTransmission > TICK){\n            console.log('sending',this.x,this.y);\n            this.queuedTransmission = false;\n            this.move();\n            socket.emit('playermove', {rotation: this.rotation});\n        }\n        else{\n        // queue a transmission asap\n            this.queuedTransmission = true;\n           \n            setTimeout(() => {\n                this.transmit(socket);\n            }, TICK+this.lastTransmission-now+1 );\n        }\n      \n\n    }\n\n    handleRotation(newRotation) {\n        if(newRotation!==this.rotation){\n            this.rotation = newRotation;\n            const playerctx = this.canvas.getContext('2d');\n            playerctx.resetTransform();\n            playerctx.clearRect(0, 0, this.canvas.height, this.canvas.width);\n            playerctx.translate(this.canvas.width / 2, this.canvas.height / 2);\n           \n            playerctx.rotate(( (90-this.rotation*45  )* Math.PI) / 180);\n            playerctx.drawImage(this.img, 2, 0, 25, 100, 0, 0, 25, 100);\n        }\n \n    }\n\n    draw(ctx) { //sx, sy, sWidth, sHeight, dx, dy,\n        \n        ctx.drawImage(this.canvas, this.x, this.y);\n    }\n}\n\nmodule.exports.Player = Player;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zaGFyZWQvUGxheWVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc2hhcmVkL1BsYXllci5qcz8yYWUzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgVElDSywgY2F0U3BlZWR9ID0gcmVxdWlyZSgnLi9nYW1lbG9naWMnKTtcblxuY2xhc3MgUGxheWVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZWFtLGlkKXtcbiAgICAgICAgdGhpcy50ZWFtID0gdGVhbTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnggPSAyMDA7XG4gICAgICAgIHRoaXMueSA9IDIwMDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsOyAvLyBjbGllbnQgc2lkZSB1c2VkXG4gICAgICAgIHRoaXMuaW1nID0gbnVsbDsgLy9jbGllbnQgc2lkZSB1c2VkXG4gICAgICAgIHRoaXMucm90YXRpb24gPSAwO1xuICAgICAgICB0aGlzLmNhbm1vdmUgPSB0cnVlOyBcbiAgICAgICAgdGhpcy5xdWV1ZWRUcmFuc21pc3Npb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0VHJhbnNtaXNzaW9uID0gRGF0ZS5ub3coKTtcblxuICAgIH1cblxuICAgIHNldFBvcyh4LHkscm90YXRpb24pe1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgfVxuXG4gICAgbW92ZSgpe1xuICAgICAgICAvL3JvdGF0aW9uIDAtNyBjb3JyZXNwb25kIHRvIGEgcmVxdWVzdGVkIG1vdmVtZW50IG9mIDBkZWcsIDQ1ZGVnLCA5MGRlZywgZXRjXG4gICAgICAgIGNvbnN0IGR4ID0gTWF0aC5jb3ModGhpcy5yb3RhdGlvbio0NSpNYXRoLlBJLzE4MCkgO1xuICAgICAgICBjb25zdCBkeSA9IE1hdGguc2luKHRoaXMucm90YXRpb24qNDUgKiBNYXRoLlBJIC8gMTgwKSA7XG4gICAgICAgIHRoaXMueCArPSBkeCAqIGNhdFNwZWVkICogVElDSztcbiAgICAgICAgdGhpcy55IC09IGR5ICogY2F0U3BlZWQgKiBUSUNLO1xuICAgICAgICB0aGlzLnggPSBNYXRoLmZsb29yKHRoaXMueCk7XG4gICAgICAgIHRoaXMueSA9IE1hdGguZmxvb3IodGhpcy55KTtcbiAgICAgICAgaWYodGhpcy5jYW52YXMpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3JvdGF0aW5nJywgdGhpcy5yb3RhdGlvbiAqIDQ1KTtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJykucm90YXRlKHRoaXMucm90YXRpb24gKiA0NSAqIE1hdGguUEkgLyAxODApO1xuICAgICAgICAgICAgdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5zYXZlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gXG4gICAgaGFuZGxlQ29sbGlzaW9ucygpe1xuICAgICAgICBjb25zdCB0b3AgPSAwO1xuICAgICAgICBjb25zdCBib3R0b20gPSAwO1xuICAgICAgICBjb25zdCBsZWZ0ID0gMDtcbiAgICAgICAgY29uc3QgcmlnaHQgPSAwO1xuICAgIH1cblxuICAgIC8vIHRyYW5zbWl0cyB0aGUgbW9zdCByZWNlbnQgbW92ZW1lbnQgYXMgc29vbiBhcyBwb3NzaWJsZVxuICAgIHRyYW5zbWl0KHNvY2tldCl7XG4gICAgICAgIGlmKHRoaXMucXVldWVkVHJhbnNtaXNzaW9uKSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKG5vdy10aGlzLmxhc3RUcmFuc21pc3Npb24gPiBUSUNLKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZW5kaW5nJyx0aGlzLngsdGhpcy55KTtcbiAgICAgICAgICAgIHRoaXMucXVldWVkVHJhbnNtaXNzaW9uID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm1vdmUoKTtcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KCdwbGF5ZXJtb3ZlJywge3JvdGF0aW9uOiB0aGlzLnJvdGF0aW9ufSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgLy8gcXVldWUgYSB0cmFuc21pc3Npb24gYXNhcFxuICAgICAgICAgICAgdGhpcy5xdWV1ZWRUcmFuc21pc3Npb24gPSB0cnVlO1xuICAgICAgICAgICBcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNtaXQoc29ja2V0KTtcbiAgICAgICAgICAgIH0sIFRJQ0srdGhpcy5sYXN0VHJhbnNtaXNzaW9uLW5vdysxICk7XG4gICAgICAgIH1cbiAgICAgIFxuXG4gICAgfVxuXG4gICAgaGFuZGxlUm90YXRpb24obmV3Um90YXRpb24pIHtcbiAgICAgICAgaWYobmV3Um90YXRpb24hPT10aGlzLnJvdGF0aW9uKXtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb24gPSBuZXdSb3RhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHBsYXllcmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICBwbGF5ZXJjdHgucmVzZXRUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIHBsYXllcmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMuaGVpZ2h0LCB0aGlzLmNhbnZhcy53aWR0aCk7XG4gICAgICAgICAgICBwbGF5ZXJjdHgudHJhbnNsYXRlKHRoaXMuY2FudmFzLndpZHRoIC8gMiwgdGhpcy5jYW52YXMuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgIFxuICAgICAgICAgICAgcGxheWVyY3R4LnJvdGF0ZSgoICg5MC10aGlzLnJvdGF0aW9uKjQ1ICApKiBNYXRoLlBJKSAvIDE4MCk7XG4gICAgICAgICAgICBwbGF5ZXJjdHguZHJhd0ltYWdlKHRoaXMuaW1nLCAyLCAwLCAyNSwgMTAwLCAwLCAwLCAyNSwgMTAwKTtcbiAgICAgICAgfVxuIFxuICAgIH1cblxuICAgIGRyYXcoY3R4KSB7IC8vc3gsIHN5LCBzV2lkdGgsIHNIZWlnaHQsIGR4LCBkeSxcbiAgICAgICAgXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5jYW52YXMsIHRoaXMueCwgdGhpcy55KTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzLlBsYXllciA9IFBsYXllcjsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./shared/Player.js\n");

/***/ }),

/***/ "./shared/gamelogic.js":
/*!*****************************!*\
  !*** ./shared/gamelogic.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\nmodule.exports = {\n    catSpeed : .2, // how many pixels per ms the cat can move\n    TICK : 30, // ms per server tick\n    WIDTH: 1200, // game canvas width\n    HEIGHT: 650, // game canvas height\n    // distance modifier to the head, based on the rotation of the cat\n    hitBoxMap: {\n        0: [50, 45],\n        1: [56, 48],\n        2: [60, 55],\n        3: [56, 58],\n        4: [50, 62],\n        5: [44, 58],\n        6: [40, 55],\n        7: [44, 48],\n    },\n    cache: {\n        score: {\n            1: 0,\n            2: 0\n        },\n        ball : null,\n        players:{},\n        totalPlayers: 0,\n        shouldStart: false,\n        gameRunning: true\n    }\n\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zaGFyZWQvZ2FtZWxvZ2ljLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc2hhcmVkL2dhbWVsb2dpYy5qcz85NjhkIl0sInNvdXJjZXNDb250ZW50IjpbIlxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY2F0U3BlZWQgOiAuMiwgLy8gaG93IG1hbnkgcGl4ZWxzIHBlciBtcyB0aGUgY2F0IGNhbiBtb3ZlXG4gICAgVElDSyA6IDMwLCAvLyBtcyBwZXIgc2VydmVyIHRpY2tcbiAgICBXSURUSDogMTIwMCwgLy8gZ2FtZSBjYW52YXMgd2lkdGhcbiAgICBIRUlHSFQ6IDY1MCwgLy8gZ2FtZSBjYW52YXMgaGVpZ2h0XG4gICAgLy8gZGlzdGFuY2UgbW9kaWZpZXIgdG8gdGhlIGhlYWQsIGJhc2VkIG9uIHRoZSByb3RhdGlvbiBvZiB0aGUgY2F0XG4gICAgaGl0Qm94TWFwOiB7XG4gICAgICAgIDA6IFs1MCwgNDVdLFxuICAgICAgICAxOiBbNTYsIDQ4XSxcbiAgICAgICAgMjogWzYwLCA1NV0sXG4gICAgICAgIDM6IFs1NiwgNThdLFxuICAgICAgICA0OiBbNTAsIDYyXSxcbiAgICAgICAgNTogWzQ0LCA1OF0sXG4gICAgICAgIDY6IFs0MCwgNTVdLFxuICAgICAgICA3OiBbNDQsIDQ4XSxcbiAgICB9LFxuICAgIGNhY2hlOiB7XG4gICAgICAgIHNjb3JlOiB7XG4gICAgICAgICAgICAxOiAwLFxuICAgICAgICAgICAgMjogMFxuICAgICAgICB9LFxuICAgICAgICBiYWxsIDogbnVsbCxcbiAgICAgICAgcGxheWVyczp7fSxcbiAgICAgICAgdG90YWxQbGF5ZXJzOiAwLFxuICAgICAgICBzaG91bGRTdGFydDogZmFsc2UsXG4gICAgICAgIGdhbWVSdW5uaW5nOiB0cnVlXG4gICAgfVxuXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./shared/gamelogic.js\n");

/***/ })

/******/ });