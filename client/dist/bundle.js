/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./client/src/gamecanvas.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./client/src/gamecanvas.js":
/*!**********************************!*\
  !*** ./client/src/gamecanvas.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _require = __webpack_require__(/*! ../../shared/Ball */ \"./shared/Ball.js\"),\n    Ball = _require.Ball;\n\nvar _require2 = __webpack_require__(/*! ../../shared/Player */ \"./shared/Player.js\"),\n    Player = _require2.Player;\n\nvar _require3 = __webpack_require__(/*! ../../shared/gamelogic */ \"./shared/gamelogic.js\"),\n    TICK = _require3.TICK;\n\nangular.module('app').controller('gamecanvasctrl', function () {\n    this.img1 = new Image();\n    this.img1.src = '/images/BlackCatUp.gif';\n    this.img2 = new Image();\n    this.img2.src = '/images/orangeCatSpriteUp.gif';\n\n    this.isLoading = true;\n    this.gameLoop = null;\n    this.animationLoop = null;\n    this.canvas;\n\n    this.lastDraw;\n\n    //map of keycodes to whether or not they're currently pressed                     \t\n    this.score = {\n        1: 0,\n        2: 0\n    };\n    this.keysPressed = {\n        65: false, // \"A\"-key\n        68: false, // \"D\" - key\n        87: false, // \"W\" -key\n        83: false, // \"S\" -key\n        32: false // space -key\n    };\n    //holder for frame to frame variance in location\n    //right is a postive or negative number (left neg)\n    //down is a positive or negative number (up neg)\n    //holder for keypresses\n    this.playerId = null;\n\n    this.players = {};\n\n    this.ball = new Ball();\n}).directive('anim', function () {\n    return {\n        //Restrict Directive invocation to Attribute on Element\n        restrict: 'A',\n        //Link registers Dom listeners and can update DOM\n        //executed after template is cloned\n        link: function link(scope, element, attrs, controller, transcludeFn) {\n            // scope is an AngularJS scope object.\n            // element is the jqLite-wrapped element that this directive matches.\n            // attrs is a hash object with key-value pairs of normalized attribute names and their corresponding attribute values.\n            // controller is the directive's required controller instance(s) or its own controller (if any). The exact value depends on the directive's require property.\n            // transcludeFn is a transclude linking function pre-bound to the correct transclusion scope.\n\n            var ctrl = scope.$ctrl;\n            //console.log(ctrl);\n            //el[0] === the canvas object we drop the directive on\n            var canvas = element[0];\n            //fetch 2d context for canvas to draw\n            var ctx = canvas.getContext('2d');\n            //temp global object for player speed\n\n\n            var shouldStart = false;\n\n            var handleCollisions = function handleCollisions() {\n                // check for ball collisions\n\n                var b = ctrl.ball;\n                // check for head collisions\n                // array of players\n                var players = Object.keys(ctrl.players).map(function (key) {\n                    return ctrl.players[key];\n                });\n\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = players[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var player = _step.value;\n\n                        b.catHeadCollides(player);\n                    }\n\n                    // check for body collisions\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                    for (var _iterator2 = players[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                        var _player = _step2.value;\n\n                        b.catHeadCollides(_player);\n                    }\n\n                    // check for goals\n                } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                            _iterator2.return();\n                        }\n                    } finally {\n                        if (_didIteratorError2) {\n                            throw _iteratorError2;\n                        }\n                    }\n                }\n\n                var teamScored = b.isGoal(); // false, 1, 2\n                if (teamScored) {\n                    ctrl.score[teamScored]++;\n                    b.reset();\n                }\n\n                // check for wall bounce on ball last, to prevent boundry errors\n                b.handleWallBounce();\n\n                // check for player out of bounds issues\n                ctrl.players[ctrl.playerId].handleCollisions();\n            };\n\n            //main draw loop (all draw fucntions live in here)    \n\n            var animationLoop = function animationLoop() {\n\n                //console.log('rendering2');\n                ctx.clearRect(0, 0, canvas.width, canvas.height);\n                ctx.fillStyle = 'LightGreen';\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                ctx.font = '40px Arial';\n                ctx.fillStyle = 'white';\n                ctx.fillText(ctrl.score[1] + ' : ' + ctrl.score[2], 561, 40);\n                ctx.fillRect(50, 0, 4, 650);\n                ctx.fillRect(1146, 0, 4, 650);\n                ctx.fillRect(598, 0, 4, 650);\n                ctx.beginPath();\n                ctx.arc(600, 325, 75, 0, 2 * Math.PI, false);\n                ctx.lineWidth = 4;\n                ctx.strokeStyle = 'white';\n                ctx.stroke();\n\n                ctx.fillStyle = 'white';\n                ctx.fillRect(0, 250, 50, 150);\n                ctx.fillRect(1150, 250, 50, 150);\n                //scope.$digest();\n                ctrl.ball.draw(ctx);\n                drawPlayers();\n            };\n\n            var gameLoop = function gameLoop() {\n\n                var keyPressed = Object.keys(ctrl.keysPressed).reduce(function (m, i) {\n                    return m || ctrl.keysPressed[i];\n                }, false);\n                if (ctrl.playerId && keyPressed) {\n                    alterPlayer();\n                    ctrl.players[ctrl.playerId].transmit(ctrl.socket);\n                }\n                ctrl.ball.move();\n                handleCollisions();\n            };\n\n            var drawPlayers = function drawPlayers() {\n                try {\n                    if (shouldStart) {\n                        var keys = Object.keys(ctrl.players);\n                        keys.forEach(function (key) {\n                            ctrl.players[key].draw(ctx);\n                        });\n                    }\n                } catch (err) {\n                    console.log(err);\n                }\n            };\n            console.log('in the game canvaseasdfasfd');\n            //iterate through keys pressed, check for true\n            //if the key is pressed, change player vector based on keymap\n            //set depressed keys to zero, unless alternate key is also pressed                    \n            var alterPlayer = function alterPlayer() {\n\n                var k = ctrl.keysPressed;\n\n                var p = ctrl.players[ctrl.playerId];\n                if (!p) {\n                    return;\n                }\n                var r = p.rotation;\n\n                if (k[65] && k[87]) {\n                    r = 135;\n                } else if (k[87] && k[68]) {\n                    r = 45;\n                } else if (k[68] && k[83]) {\n                    r = 315;\n                } else if (k[83] && k[65]) {\n                    r = 225;\n                } else if (k[87]) {\n                    r = 90;\n                } else if (k[68]) {\n                    r = 0;\n                } else if (k[83]) {\n                    r = 270;\n                } else if (k[65]) {\n                    r = 180;\n                }\n\n                if (k[32]) {\n                    p.kicking = true;\n                } else {\n                    p.kicking = false;\n                }\n                p.handleRotation(r);\n            };\n            //route based on keydown to toggle key press map                    \n            var keyupHandler = function keyupHandler(e) {\n\n                if (ctrl.keysPressed[e.keyCode] === undefined) return;\n\n                ctrl.keysPressed[e.keyCode] = false;\n            };\n            //route based on keyup to detoggle key press map\n            var keydownHandler = function keydownHandler(e) {\n                if (ctrl.keysPressed[e.keyCode] === undefined) return;\n\n                ctrl.keysPressed[e.keyCode] = true;\n            };\n            //add global event listeners that rout to the kepress routers\n            angular.element(window).on('keydown', keydownHandler);\n            angular.element(window).on('keyup', keyupHandler);\n\n            ctrl.socket.on('removePlayer', function (data) {\n                var id = data.id;\n\n                console.log('deleting', id);\n                delete ctrl.players[id];\n            });\n            console.log('randomhash', ctrl.randomHash);\n\n            ctrl.socket.on('sync', function (data) {\n                var currplayers = [];\n                var players = data.players,\n                    score = data.score;\n\n                ctrl.score = score;\n\n                var _iteratorNormalCompletion3 = true;\n                var _didIteratorError3 = false;\n                var _iteratorError3 = undefined;\n\n                try {\n                    for (var _iterator3 = players[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                        var player = _step3.value;\n                        var rotation = player.rotation,\n                            team = player.team,\n                            id = player.id,\n                            _x = player.x,\n                            _y = player.y;\n\n                        if (!ctrl.players[id]) {\n                            ctrl.players[id] = new Player(team, id);\n                            var img = team === 1 ? ctrl.img1 : ctrl.img2;\n                            ctrl.players[id].generateCanvas(img);\n                        }\n\n                        ctrl.players[id].setPos(_x, _y, rotation);\n                        currplayers.push(id);\n                    }\n                } catch (err) {\n                    _didIteratorError3 = true;\n                    _iteratorError3 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                            _iterator3.return();\n                        }\n                    } finally {\n                        if (_didIteratorError3) {\n                            throw _iteratorError3;\n                        }\n                    }\n                }\n\n                var _data$ball = data.ball,\n                    x = _data$ball.x,\n                    y = _data$ball.y,\n                    dx = _data$ball.dx,\n                    dy = _data$ball.dy;\n\n                ctrl.ball.setPos(x, y, dx, dy);\n                //remove players which no longer exist\n                Object.keys(ctrl.players).forEach(function (key) {\n                    if (!currplayers.includes(key)) {\n                        delete ctrl.players[key];\n                    }\n                });\n            });\n\n            ctrl.socket.on('you', function (msg) {\n                var playerId = msg.playerId;\n\n                ctrl.playerId = playerId;\n                console.log(ctrl.playerId, 'you');\n            });\n\n            ctrl.socket.on('initGame', function (data) {\n                var players = data.players,\n                    score = data.score;\n\n                ctrl.isLoading = false;\n                ctrl.score = score;\n                console.log('Game starting');\n\n                shouldStart = true;\n\n                var _iteratorNormalCompletion4 = true;\n                var _didIteratorError4 = false;\n                var _iteratorError4 = undefined;\n\n                try {\n                    for (var _iterator4 = players[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                        var player = _step4.value;\n                        var rotation = player.rotation,\n                            team = player.team,\n                            id = player.id,\n                            x = player.x,\n                            y = player.y;\n\n                        ctrl.players[id] = new Player(team, id);\n                        ctrl.players[id].setPos(x, y, rotation);\n\n                        ctrl.players[id].img = team === 1 ? ctrl.img1 : ctrl.img2;\n\n                        var playercanvas = document.createElement('CANVAS');\n                        playercanvas.id = id;\n                        playercanvas.height = 100;\n                        playercanvas.width = 100;\n                        // rotate 45 degrees clockwise\n                        ctrl.players[id].canvas = playercanvas;\n                    }\n                } catch (err) {\n                    _didIteratorError4 = true;\n                    _iteratorError4 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                            _iterator4.return();\n                        }\n                    } finally {\n                        if (_didIteratorError4) {\n                            throw _iteratorError4;\n                        }\n                    }\n                }\n\n                console.log('players', ctrl.players);\n            });\n\n            //call the main game loop\n            var waitForStart = setInterval(function () {\n\n                if (!ctrl.isLoading) {\n                    clearInterval(waitForStart);\n                    ctrl.gameLoop = setInterval(gameLoop, TICK);\n                    ctrl.animationLoop = setInterval(animationLoop, 50);\n                }\n            }, 500);\n        }\n    };\n})\n\n// SPRITE ANIMATION AND ROTATION\n.directive('move', function () {\n    return {\n        restrict: 'A',\n\n        link: function link(scope, element) {\n            var ctrl = scope.$ctrl;\n\n            ctrl.canvas = element[0];\n            var canvas = element[0];\n\n            var ctx = canvas.getContext('2d');\n\n            //refactor to not loop?                \n            function gameLoop() {\n                if (ctrl.player) {\n                    window.requestAnimationFrame(gameLoop);\n                    ctx.clearRect(0, 0, canvas.height, canvas.width);\n\n                    var spin = ctrl.player.rotation;\n\n                    ctx.translate(canvas.width / 2, canvas.height / 2);\n                    ctx.rotate(spin * Math.PI / 180);\n                    if (!(ctrl.player.team % 2)) {\n                        ctx.drawImage(ctrl.teamoneimg, 0, 0, 25, 60, -14, -20, 25, 60);\n                    } else {\n                        ctx.drawImage(ctrl.teamtwoimg, 0, 0, 25, 60, -14, -20, 25, 60);\n                    }\n                    ctx.rotate((0 - spin) * Math.PI / 180);\n                    ctx.translate(-canvas.width / 2, -canvas.height / 2);\n                }\n            }\n\n            gameLoop();\n            angular.element(window).on('keydown');\n            angular.element(window).on('keyup');\n        }\n\n    };\n}).component('gamecanvas', {\n    bindings: {\n        socket: '='\n    },\n    controller: 'gamecanvasctrl',\n    templateUrl: './templates/gamecanvas.html'\n\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvc3JjL2dhbWVjYW52YXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY2xpZW50L3NyYy9nYW1lY2FudmFzLmpzP2EwOTIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBCYWxsIH0gID0gcmVxdWlyZSgnLi4vLi4vc2hhcmVkL0JhbGwnKTtcbmNvbnN0IHsgUGxheWVyIH0gPSByZXF1aXJlKCcuLi8uLi9zaGFyZWQvUGxheWVyJyk7XG5jb25zdCB7IFRJQ0sgfSA9IHJlcXVpcmUoJy4uLy4uL3NoYXJlZC9nYW1lbG9naWMnKTtcblxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2dhbWVjYW52YXNjdHJsJywgZnVuY3Rpb24gKCkgXG4gICAge1xuICAgICAgICB0aGlzLmltZzEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdGhpcy5pbWcxLnNyYyA9ICcvaW1hZ2VzL0JsYWNrQ2F0VXAuZ2lmJztcbiAgICAgICAgdGhpcy5pbWcyID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHRoaXMuaW1nMi5zcmMgPSAnL2ltYWdlcy9vcmFuZ2VDYXRTcHJpdGVVcC5naWYnO1xuXG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5nYW1lTG9vcCA9IG51bGw7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uTG9vcCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzO1xuICAgICAgICBcbiAgICAgICBcbiAgICAgICAgdGhpcy5sYXN0RHJhdztcblxuICAgICAgICAvL21hcCBvZiBrZXljb2RlcyB0byB3aGV0aGVyIG9yIG5vdCB0aGV5J3JlIGN1cnJlbnRseSBwcmVzc2VkICAgICAgICAgICAgICAgICAgICAgXHRcbiAgICAgICAgdGhpcy5zY29yZSA9IHtcbiAgICAgICAgICAgIDE6MCxcbiAgICAgICAgICAgIDI6MFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmtleXNQcmVzc2VkID0ge1xuICAgICAgICAgICAgNjUgOiBmYWxzZSwgLy8gXCJBXCIta2V5XG4gICAgICAgICAgICA2OCA6IGZhbHNlLCAvLyBcIkRcIiAtIGtleVxuICAgICAgICAgICAgODcgOiBmYWxzZSwgLy8gXCJXXCIgLWtleVxuICAgICAgICAgICAgODMgOiBmYWxzZSwgLy8gXCJTXCIgLWtleVxuICAgICAgICAgICAgMzIgOiBmYWxzZSwgLy8gc3BhY2UgLWtleVxuICAgICAgICB9OyBcbiAgICAgICAgLy9ob2xkZXIgZm9yIGZyYW1lIHRvIGZyYW1lIHZhcmlhbmNlIGluIGxvY2F0aW9uXG4gICAgICAgIC8vcmlnaHQgaXMgYSBwb3N0aXZlIG9yIG5lZ2F0aXZlIG51bWJlciAobGVmdCBuZWcpXG4gICAgICAgIC8vZG93biBpcyBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIG51bWJlciAodXAgbmVnKVxuICAgICAgICAvL2hvbGRlciBmb3Iga2V5cHJlc3Nlc1xuICAgICAgICB0aGlzLnBsYXllcklkID0gbnVsbDsgXG5cbiAgICAgICAgdGhpcy5wbGF5ZXJzID0ge307XG5cbiAgICAgICAgdGhpcy5iYWxsID0gbmV3IEJhbGwoKTtcbiAgICB9KVxuICAgIC5kaXJlY3RpdmUoJ2FuaW0nLCBmdW5jdGlvbigpXG4gICAgeyAgIFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy9SZXN0cmljdCBEaXJlY3RpdmUgaW52b2NhdGlvbiB0byBBdHRyaWJ1dGUgb24gRWxlbWVudFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIC8vTGluayByZWdpc3RlcnMgRG9tIGxpc3RlbmVycyBhbmQgY2FuIHVwZGF0ZSBET01cbiAgICAgICAgICAgIC8vZXhlY3V0ZWQgYWZ0ZXIgdGVtcGxhdGUgaXMgY2xvbmVkXG4gICAgICAgICAgICBsaW5rIDogKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlciwgdHJhbnNjbHVkZUZuKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHNjb3BlIGlzIGFuIEFuZ3VsYXJKUyBzY29wZSBvYmplY3QuXG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudCBpcyB0aGUganFMaXRlLXdyYXBwZWQgZWxlbWVudCB0aGF0IHRoaXMgZGlyZWN0aXZlIG1hdGNoZXMuXG4gICAgICAgICAgICAgICAgLy8gYXR0cnMgaXMgYSBoYXNoIG9iamVjdCB3aXRoIGtleS12YWx1ZSBwYWlycyBvZiBub3JtYWxpemVkIGF0dHJpYnV0ZSBuYW1lcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgICAgICAgICAgICAgIC8vIGNvbnRyb2xsZXIgaXMgdGhlIGRpcmVjdGl2ZSdzIHJlcXVpcmVkIGNvbnRyb2xsZXIgaW5zdGFuY2Uocykgb3IgaXRzIG93biBjb250cm9sbGVyIChpZiBhbnkpLiBUaGUgZXhhY3QgdmFsdWUgZGVwZW5kcyBvbiB0aGUgZGlyZWN0aXZlJ3MgcmVxdWlyZSBwcm9wZXJ0eS5cbiAgICAgICAgICAgICAgICAvLyB0cmFuc2NsdWRlRm4gaXMgYSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb24gcHJlLWJvdW5kIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZS5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIGN0cmwgPSBzY29wZS4kY3RybDtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGN0cmwpO1xuICAgICAgICAgICAgICAgIC8vZWxbMF0gPT09IHRoZSBjYW52YXMgb2JqZWN0IHdlIGRyb3AgdGhlIGRpcmVjdGl2ZSBvblxuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBlbGVtZW50WzBdO1xuICAgICAgICAgICAgICAgIC8vZmV0Y2ggMmQgY29udGV4dCBmb3IgY2FudmFzIHRvIGRyYXdcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICAgICAgLy90ZW1wIGdsb2JhbCBvYmplY3QgZm9yIHBsYXllciBzcGVlZFxuXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgc2hvdWxkU3RhcnQgPSBmYWxzZTtcblxuXG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlQ29sbGlzaW9ucyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIGJhbGwgY29sbGlzaW9uc1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGIgPSBjdHJsLmJhbGw7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciBoZWFkIGNvbGxpc2lvbnNcbiAgICAgICAgICAgICAgICAgICAgLy8gYXJyYXkgb2YgcGxheWVyc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJzID0gT2JqZWN0LmtleXMoY3RybC5wbGF5ZXJzKS5tYXAoa2V5ID0+IGN0cmwucGxheWVyc1trZXldKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBwbGF5ZXIgb2YgcGxheWVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYi5jYXRIZWFkQ29sbGlkZXMocGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciBib2R5IGNvbGxpc2lvbnNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcGxheWVyIG9mIHBsYXllcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIuY2F0SGVhZENvbGxpZGVzKHBsYXllcik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciBnb2Fsc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZWFtU2NvcmVkID0gYi5pc0dvYWwoKTsgLy8gZmFsc2UsIDEsIDJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlYW1TY29yZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuc2NvcmVbdGVhbVNjb3JlZF0rKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGIucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciB3YWxsIGJvdW5jZSBvbiBiYWxsIGxhc3QsIHRvIHByZXZlbnQgYm91bmRyeSBlcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgYi5oYW5kbGVXYWxsQm91bmNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHBsYXllciBvdXQgb2YgYm91bmRzIGlzc3Vlc1xuICAgICAgICAgICAgICAgICAgICBjdHJsLnBsYXllcnNbY3RybC5wbGF5ZXJJZF0uaGFuZGxlQ29sbGlzaW9ucygpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICBcblxuICAgICAgICAgICAgICAgIH07XG5cblxuXG4gICAgICAgICAgICAgICAgLy9tYWluIGRyYXcgbG9vcCAoYWxsIGRyYXcgZnVjbnRpb25zIGxpdmUgaW4gaGVyZSkgICAgXG5cbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uTG9vcCA9IGZ1bmN0aW9uICgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdyZW5kZXJpbmcyJyk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ0xpZ2h0R3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwwLGNhbnZhcy53aWR0aCxjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZvbnQgPSAnNDBweCBBcmlhbCc7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoYCR7Y3RybC5zY29yZVsxXX0gOiAke2N0cmwuc2NvcmVbMl19YCw1NjEsIDQwKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDUwLDAsNCw2NTApO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMTE0NiwwLDQsNjUwKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDU5OCwwLDQsNjUwKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICBjdHguYXJjKDYwMCwzMjUgLCA3NSwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwyNTAsIDUwLCAxNTApO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMTE1MCwyNTAsNTAsMTUwKTtcbiAgICAgICAgICAgICAgICAgICAgLy9zY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuYmFsbC5kcmF3KGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGRyYXdQbGF5ZXJzKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVMb29wID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5UHJlc3NlZCA9IE9iamVjdC5rZXlzKGN0cmwua2V5c1ByZXNzZWQpLnJlZHVjZSgobSxpKT0+bSB8fCBjdHJsLmtleXNQcmVzc2VkW2ldICwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3RybC5wbGF5ZXJJZCAmJiBrZXlQcmVzc2VkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVyUGxheWVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnBsYXllcnNbY3RybC5wbGF5ZXJJZF0udHJhbnNtaXQoY3RybC5zb2NrZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuYmFsbC5tb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUNvbGxpc2lvbnMoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIGRyYXdQbGF5ZXJzID0gZnVuY3Rpb24gKClcbiAgICAgICAgICAgICAgICB7ICAgXG4gICAgICAgICAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRTdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhjdHJsLnBsYXllcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnBsYXllcnNba2V5XS5kcmF3KGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2goZXJyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbiB0aGUgZ2FtZSBjYW52YXNlYXNkZmFzZmQnKVxuICAgICAgICAgICAgICAgIC8vaXRlcmF0ZSB0aHJvdWdoIGtleXMgcHJlc3NlZCwgY2hlY2sgZm9yIHRydWVcbiAgICAgICAgICAgICAgICAvL2lmIHRoZSBrZXkgaXMgcHJlc3NlZCwgY2hhbmdlIHBsYXllciB2ZWN0b3IgYmFzZWQgb24ga2V5bWFwXG4gICAgICAgICAgICAgICAgLy9zZXQgZGVwcmVzc2VkIGtleXMgdG8gemVybywgdW5sZXNzIGFsdGVybmF0ZSBrZXkgaXMgYWxzbyBwcmVzc2VkICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgYWx0ZXJQbGF5ZXIgPSBmdW5jdGlvbiAoKXtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrID0gY3RybC5rZXlzUHJlc3NlZDtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gY3RybC5wbGF5ZXJzW2N0cmwucGxheWVySWRdO1xuICAgICAgICAgICAgICAgICAgICBpZighcCl7cmV0dXJuO31cbiAgICAgICAgICAgICAgICAgICAgbGV0IHIgPSBwLnJvdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtbNjVdICYmIGtbODddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gMTM1O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtbODddICYmIGtbNjhdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByID0gNDU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa1s2OF0gJiYga1s4M10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSAzMTU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa1s4M10gJiYga1s2NV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSAyMjU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa1s4N10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSA5MDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrWzY4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa1s4M10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSAyNzA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoa1s2NV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSAxODA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZihrWzMyXSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBwLmtpY2tpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcC5raWNraW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcC5oYW5kbGVSb3RhdGlvbihyKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvL3JvdXRlIGJhc2VkIG9uIGtleWRvd24gdG8gdG9nZ2xlIGtleSBwcmVzcyBtYXAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBrZXl1cEhhbmRsZXIgPSBmdW5jdGlvbiAoZSl7XG4gICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdHJsLmtleXNQcmVzc2VkW2Uua2V5Q29kZV0gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY3RybC5rZXlzUHJlc3NlZFtlLmtleUNvZGVdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgLy9yb3V0ZSBiYXNlZCBvbiBrZXl1cCB0byBkZXRvZ2dsZSBrZXkgcHJlc3MgbWFwXG4gICAgICAgICAgICAgICAgdmFyIGtleWRvd25IYW5kbGVyID0gZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdHJsLmtleXNQcmVzc2VkW2Uua2V5Q29kZV0gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY3RybC5rZXlzUHJlc3NlZFtlLmtleUNvZGVdID0gdHJ1ZSA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vYWRkIGdsb2JhbCBldmVudCBsaXN0ZW5lcnMgdGhhdCByb3V0IHRvIHRoZSBrZXByZXNzIHJvdXRlcnNcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQod2luZG93KS5vbigna2V5ZG93bicsIGtleWRvd25IYW5kbGVyKTtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQod2luZG93KS5vbigna2V5dXAnLCBrZXl1cEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjdHJsLnNvY2tldC5vbigncmVtb3ZlUGxheWVyJywgZGF0YT0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7aWR9ID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlbGV0aW5nJyxpZCk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjdHJsLnBsYXllcnNbaWRdO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JhbmRvbWhhc2gnLGN0cmwucmFuZG9tSGFzaCk7XG5cbiAgICAgICAgICAgICAgICBjdHJsLnNvY2tldC5vbignc3luYycsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJwbGF5ZXJzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcGxheWVycywgc2NvcmUgfSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuc2NvcmUgPSBzY29yZTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHBsYXllciBvZiBwbGF5ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHJvdGF0aW9uLCB0ZWFtLCBpZCwgeCwgeSB9ID0gcGxheWVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWN0cmwucGxheWVyc1tpZF0pe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucGxheWVyc1tpZF0gPSBuZXcgUGxheWVyKHRlYW0sIGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSB0ZWFtID09PSAxID8gY3RybC5pbWcxIDogY3RybC5pbWcyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucGxheWVyc1tpZF0uZ2VuZXJhdGVDYW52YXMoaW1nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucGxheWVyc1tpZF0uc2V0UG9zKHgsIHksIHJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJwbGF5ZXJzLnB1c2goaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7eCx5LGR4LGR5fSA9IGRhdGEuYmFsbDtcbiAgICAgICAgICAgICAgICAgICAgY3RybC5iYWxsLnNldFBvcyh4LHksZHgsZHkpO1xuICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSBwbGF5ZXJzIHdoaWNoIG5vIGxvbmdlciBleGlzdFxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhjdHJsLnBsYXllcnMpLmZvckVhY2goa2V5PT57XG4gICAgICAgICAgICAgICAgICAgICAgICBpZighY3VycnBsYXllcnMuaW5jbHVkZXMoa2V5KSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGN0cmwucGxheWVyc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGN0cmwuc29ja2V0Lm9uKCd5b3UnLCAobXNnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHtwbGF5ZXJJZH0gPSBtc2c7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwucGxheWVySWQgPSBwbGF5ZXJJZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY3RybC5wbGF5ZXJJZCwgJ3lvdScpO1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjdHJsLnNvY2tldC5vbignaW5pdEdhbWUnLCAoZGF0YSk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qge3BsYXllcnMsIHNjb3JlfSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuc2NvcmUgPSBzY29yZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgc3RhcnRpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHBsYXllciBvZiBwbGF5ZXJzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHtyb3RhdGlvbiwgdGVhbSwgaWQsIHgsIHl9ID0gcGxheWVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5wbGF5ZXJzW2lkXSA9IG5ldyBQbGF5ZXIodGVhbSwgaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5wbGF5ZXJzW2lkXS5zZXRQb3MoeCwgeSwgcm90YXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLnBsYXllcnNbaWRdLmltZyA9IHRlYW0gPT09IDEgPyBjdHJsLmltZzEgOiBjdHJsLmltZzI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbGF5ZXJjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdDQU5WQVMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcmNhbnZhcy5pZD1pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcmNhbnZhcy5oZWlnaHQgPSAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJjYW52YXMud2lkdGggPSAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByb3RhdGUgNDUgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwucGxheWVyc1tpZF0uY2FudmFzID0gcGxheWVyY2FudmFzO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwbGF5ZXJzJyxjdHJsLnBsYXllcnMpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy9jYWxsIHRoZSBtYWluIGdhbWUgbG9vcFxuICAgICAgICAgICAgICAgIGNvbnN0IHdhaXRGb3JTdGFydCA9IHNldEludGVydmFsKCgpPT57XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIWN0cmwuaXNMb2FkaW5nKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwod2FpdEZvclN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuZ2FtZUxvb3AgPSBzZXRJbnRlcnZhbChnYW1lTG9vcCwgVElDSyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLmFuaW1hdGlvbkxvb3AgPSBzZXRJbnRlcnZhbChhbmltYXRpb25Mb29wLCA1MCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0sNTAwKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICBcbiAgICB9KVxuXG5cbiAgICAvLyBTUFJJVEUgQU5JTUFUSU9OIEFORCBST1RBVElPTlxuICAgIC5kaXJlY3RpdmUoJ21vdmUnLCBmdW5jdGlvbigpIFxuICAgIHtcbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgcmVzdHJpY3QgOiAnQScsXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxpbmsgOiAoc2NvcGUsIGVsZW1lbnQpID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBjdHJsID0gc2NvcGUuJGN0cmw7XG4gICAgICAgICAgXG4gICAgICAgICAgICAgICAgY3RybC5jYW52YXMgPSBlbGVtZW50WzBdO1xuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBlbGVtZW50WzBdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgIFxuICAgICAgICAgICAgICAgIC8vcmVmYWN0b3IgdG8gbm90IGxvb3A/ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdhbWVMb29wKClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGN0cmwucGxheWVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMuaGVpZ2h0LCBjYW52YXMud2lkdGgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BpbiA9IGN0cmwucGxheWVyLnJvdGF0aW9uO1xuIFxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKHNwaW4gKiBNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGN0cmwucGxheWVyLnRlYW0gJSAyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoY3RybC50ZWFtb25laW1nLCAwLCAwLCAyNSwgNjAsIC0xNCwgLTIwLCAyNSwgNjApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGN0cmwudGVhbXR3b2ltZywgMCwgMCwgMjUsIDYwLCAtMTQsIC0yMCwgMjUsIDYwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoKDAgLSBzcGluKSAqIE1hdGguUEkgLyAxODApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSgtY2FudmFzLndpZHRoIC8gMiwgLWNhbnZhcy5oZWlnaHQgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0gICBcblxuICAgICAgICAgICAgICAgIGdhbWVMb29wKCk7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KHdpbmRvdykub24oJ2tleWRvd24nKTtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQod2luZG93KS5vbigna2V5dXAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9OyAgIFxuICAgICAgICBcbiAgICB9KVxuICAgIC5jb21wb25lbnQoJ2dhbWVjYW52YXMnLCB7XG4gICAgICAgIGJpbmRpbmdzIDoge1xuICAgICAgICAgICBzb2NrZXQ6Jz0nXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xsZXI6ICdnYW1lY2FudmFzY3RybCcsXG4gICAgICAgIHRlbXBsYXRlVXJsIDogJy4vdGVtcGxhdGVzL2dhbWVjYW52YXMuaHRtbCdcblxuICAgIH0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBUEE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQWFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBbEJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBSkE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFoQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQXZCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUF1QkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUF6UUE7QUE4UUE7QUFDQTtBQUVBO0FBelRBO0FBNFRBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRDQTtBQXlDQTtBQUVBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQU5BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./client/src/gamecanvas.js\n");

/***/ }),

/***/ "./shared/Ball.js":
/*!************************!*\
  !*** ./shared/Ball.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// defined in gamecanvas.html\nconst {WIDTH, HEIGHT, TICK, hitBoxMap, SPEED} = __webpack_require__(/*! ./gamelogic */ \"./shared/gamelogic.js\");\n\nclass Ball {\n\n    constructor() {\n      \n        this.x = 600;\n        this.y = 0;\n        this.dx = 0;\n        this.dy = .4;\n    }\n\n    setPos(x,y,dx,dy){\n        this.x = x;\n        this.y = y;\n        this.dx = dx;\n        this.dy = dy;\n    }\n\n    reset() {\n        this.x = 600;\n        this.y = 0;\n        this.dx = 0;\n        this.dy = .4;\n        \n    }\n\n    catHeadCollides(player) {\n        if(!player) return;\n        var currentCenterX = player.x + hitBoxMap[player.rotation][0];\n        var currentCenterY = player.y + hitBoxMap[player.rotation][1];\n        var ballCenterX = this.x + 5;\n        var ballCenterY = this.y + 5;\n        var ballCenterDelta = Math.sqrt(Math.pow((ballCenterX - currentCenterX), 2) + Math.pow((ballCenterY - currentCenterY), 2));\n\n        const facingRight = player.rotation < 90 || player.rotation > 270 ? SPEED : -SPEED;\n        const facingDown = player.rotation < 360 && player.rotation > 180 ? SPEED : -SPEED;\n\n        if(ballCenterDelta < 11){\n           \n            this.dx += 1.05 * facingRight - this.dx;\n            this.dy += 1.05 * facingDown - this.dy;\n            \n            if (player.kicking) {\n                \n                // very slight random offset while kicking to keep things interesting\n                const xdiff = (Math.floor(Math.random() * 300) - 150) / 500;\n                const ydiff = (Math.floor(Math.random() * 300) - 150) / 500;\n                \n                // new velocity based on player rotation\n                const dx = Math.cos(player.rotation * Math.PI / 180);\n                const dy = Math.sin(player.rotation * Math.PI / 180);\n\n                // pump up velocity, push ball out along kick direction\n                this.dx = dx+xdiff;\n                this.dy = dy+ydiff;\n\n                this.x += Math.floor( (3* this.dx)  );\n                this.y += Math.floor( (3 * this.dy)  );\n            }\n        } \n    }\n\n    catBodyCollides (player) {\n        if (!player) return;\n        var currentCenterX = player.x + 50;\n        var currentCenterY = player.y + 50;\n       \n        var ballCenterX = this.x + 5;\n        var ballCenterY = this.y + 5;\n\n        var ballCenterDelta = Math.sqrt(Math.pow((ballCenterX - currentCenterX), 2) + Math.pow((ballCenterY - currentCenterY), 2));\n\n        if (ballCenterDelta < 12){\n      \n            const facingRight = player.rotation < 90 || player.rotation > 270 ? SPEED : -SPEED;\n            const facingDown =  player.rotation < 360 && player.rotation > 180 ? SPEED : -SPEED;\n            this.dx += (1.1 * (facingRight) - this.dx);\n            this.dy += (1.1 * (facingDown) - this.dy);\n        }\n    }\n\n    isGoal(){\n        var x = this.x;\n        var y = this.y;\n        // returns goal\n        if (y > 250 && y < 400) {\n            if (x < 55) {\n                return '1';\n            } else if (x > (WIDTH - 55)) {\n                return '2';\n            }\n        }\n        return false;\n    }\n\n    handleWallBounce () {\n        var x = this.x;\n        var y = this.y;\n        \n        //handle horizontal bounce\n        if (x < 55 || x > (WIDTH - 55)) {\n            this.x -= Math.floor( ((2 * this.dx)) * TICK );\n            this.dx -= (2 * (this.dx));\n          \n        }\n        // returns vertical bounce\n        if (y < 0 || y > (HEIGHT - 10)) {\n            this.y -= Math.floor( ((2 * this.dy)) * TICK );\n            this.dy -= (2 * (this.dy));\n         \n        }\n    }\n\n    move () {\n        this.x += this.dx * TICK  ;\n        this.y += this.dy * TICK  ;\n\n        //friction on y axis\n        if (Math.abs(this.dy) > 0.02) {\n            if (this.dy > 0) {\n                this.dy -= .0021;\n            } else {\n                this.dy += .0021;\n            }\n        } else {\n            this.dy = 0;\n        }\n        //friction on x axis\n        if (Math.abs(this.dx) > 0.02) {\n            if (this.dx > 0) {\n                this.dx -= .0021;\n            } else {\n                this.dx += .0021;\n            }\n        } else {\n            this.dx = 0;\n        }\n    }\n\n    draw(ctx){\n\n        ctx.beginPath();\n        ctx.arc(this.x, this.y, 7, 0, 2 * Math.PI, false);\n        ctx.fillStyle = 'red';\n        ctx.fill();\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = '#8b0000';\n        ctx.stroke();\n       \n    }\n}\n\nmodule.exports.Ball = Ball;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zaGFyZWQvQmFsbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NoYXJlZC9CYWxsLmpzPzFkNWQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZGVmaW5lZCBpbiBnYW1lY2FudmFzLmh0bWxcbmNvbnN0IHtXSURUSCwgSEVJR0hULCBUSUNLLCBoaXRCb3hNYXAsIFNQRUVEfSA9IHJlcXVpcmUoJy4vZ2FtZWxvZ2ljJyk7XG5cbmNsYXNzIEJhbGwge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBcbiAgICAgICAgdGhpcy54ID0gNjAwO1xuICAgICAgICB0aGlzLnkgPSAwO1xuICAgICAgICB0aGlzLmR4ID0gMDtcbiAgICAgICAgdGhpcy5keSA9IC40O1xuICAgIH1cblxuICAgIHNldFBvcyh4LHksZHgsZHkpe1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLmR4ID0gZHg7XG4gICAgICAgIHRoaXMuZHkgPSBkeTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy54ID0gNjAwO1xuICAgICAgICB0aGlzLnkgPSAwO1xuICAgICAgICB0aGlzLmR4ID0gMDtcbiAgICAgICAgdGhpcy5keSA9IC40O1xuICAgICAgICBcbiAgICB9XG5cbiAgICBjYXRIZWFkQ29sbGlkZXMocGxheWVyKSB7XG4gICAgICAgIGlmKCFwbGF5ZXIpIHJldHVybjtcbiAgICAgICAgdmFyIGN1cnJlbnRDZW50ZXJYID0gcGxheWVyLnggKyBoaXRCb3hNYXBbcGxheWVyLnJvdGF0aW9uXVswXTtcbiAgICAgICAgdmFyIGN1cnJlbnRDZW50ZXJZID0gcGxheWVyLnkgKyBoaXRCb3hNYXBbcGxheWVyLnJvdGF0aW9uXVsxXTtcbiAgICAgICAgdmFyIGJhbGxDZW50ZXJYID0gdGhpcy54ICsgNTtcbiAgICAgICAgdmFyIGJhbGxDZW50ZXJZID0gdGhpcy55ICsgNTtcbiAgICAgICAgdmFyIGJhbGxDZW50ZXJEZWx0YSA9IE1hdGguc3FydChNYXRoLnBvdygoYmFsbENlbnRlclggLSBjdXJyZW50Q2VudGVyWCksIDIpICsgTWF0aC5wb3coKGJhbGxDZW50ZXJZIC0gY3VycmVudENlbnRlclkpLCAyKSk7XG5cbiAgICAgICAgY29uc3QgZmFjaW5nUmlnaHQgPSBwbGF5ZXIucm90YXRpb24gPCA5MCB8fCBwbGF5ZXIucm90YXRpb24gPiAyNzAgPyBTUEVFRCA6IC1TUEVFRDtcbiAgICAgICAgY29uc3QgZmFjaW5nRG93biA9IHBsYXllci5yb3RhdGlvbiA8IDM2MCAmJiBwbGF5ZXIucm90YXRpb24gPiAxODAgPyBTUEVFRCA6IC1TUEVFRDtcblxuICAgICAgICBpZihiYWxsQ2VudGVyRGVsdGEgPCAxMSl7XG4gICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5keCArPSAxLjA1ICogZmFjaW5nUmlnaHQgLSB0aGlzLmR4O1xuICAgICAgICAgICAgdGhpcy5keSArPSAxLjA1ICogZmFjaW5nRG93biAtIHRoaXMuZHk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChwbGF5ZXIua2lja2luZykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIHZlcnkgc2xpZ2h0IHJhbmRvbSBvZmZzZXQgd2hpbGUga2lja2luZyB0byBrZWVwIHRoaW5ncyBpbnRlcmVzdGluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IHhkaWZmID0gKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMCkgLSAxNTApIC8gNTAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHlkaWZmID0gKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMCkgLSAxNTApIC8gNTAwO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIG5ldyB2ZWxvY2l0eSBiYXNlZCBvbiBwbGF5ZXIgcm90YXRpb25cbiAgICAgICAgICAgICAgICBjb25zdCBkeCA9IE1hdGguY29zKHBsYXllci5yb3RhdGlvbiAqIE1hdGguUEkgLyAxODApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR5ID0gTWF0aC5zaW4ocGxheWVyLnJvdGF0aW9uICogTWF0aC5QSSAvIDE4MCk7XG5cbiAgICAgICAgICAgICAgICAvLyBwdW1wIHVwIHZlbG9jaXR5LCBwdXNoIGJhbGwgb3V0IGFsb25nIGtpY2sgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5keCA9IGR4K3hkaWZmO1xuICAgICAgICAgICAgICAgIHRoaXMuZHkgPSBkeSt5ZGlmZjtcblxuICAgICAgICAgICAgICAgIHRoaXMueCArPSBNYXRoLmZsb29yKCAoMyogdGhpcy5keCkgICk7XG4gICAgICAgICAgICAgICAgdGhpcy55ICs9IE1hdGguZmxvb3IoICgzICogdGhpcy5keSkgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gXG4gICAgfVxuXG4gICAgY2F0Qm9keUNvbGxpZGVzIChwbGF5ZXIpIHtcbiAgICAgICAgaWYgKCFwbGF5ZXIpIHJldHVybjtcbiAgICAgICAgdmFyIGN1cnJlbnRDZW50ZXJYID0gcGxheWVyLnggKyA1MDtcbiAgICAgICAgdmFyIGN1cnJlbnRDZW50ZXJZID0gcGxheWVyLnkgKyA1MDtcbiAgICAgICBcbiAgICAgICAgdmFyIGJhbGxDZW50ZXJYID0gdGhpcy54ICsgNTtcbiAgICAgICAgdmFyIGJhbGxDZW50ZXJZID0gdGhpcy55ICsgNTtcblxuICAgICAgICB2YXIgYmFsbENlbnRlckRlbHRhID0gTWF0aC5zcXJ0KE1hdGgucG93KChiYWxsQ2VudGVyWCAtIGN1cnJlbnRDZW50ZXJYKSwgMikgKyBNYXRoLnBvdygoYmFsbENlbnRlclkgLSBjdXJyZW50Q2VudGVyWSksIDIpKTtcblxuICAgICAgICBpZiAoYmFsbENlbnRlckRlbHRhIDwgMTIpe1xuICAgICAgXG4gICAgICAgICAgICBjb25zdCBmYWNpbmdSaWdodCA9IHBsYXllci5yb3RhdGlvbiA8IDkwIHx8IHBsYXllci5yb3RhdGlvbiA+IDI3MCA/IFNQRUVEIDogLVNQRUVEO1xuICAgICAgICAgICAgY29uc3QgZmFjaW5nRG93biA9ICBwbGF5ZXIucm90YXRpb24gPCAzNjAgJiYgcGxheWVyLnJvdGF0aW9uID4gMTgwID8gU1BFRUQgOiAtU1BFRUQ7XG4gICAgICAgICAgICB0aGlzLmR4ICs9ICgxLjEgKiAoZmFjaW5nUmlnaHQpIC0gdGhpcy5keCk7XG4gICAgICAgICAgICB0aGlzLmR5ICs9ICgxLjEgKiAoZmFjaW5nRG93bikgLSB0aGlzLmR5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzR29hbCgpe1xuICAgICAgICB2YXIgeCA9IHRoaXMueDtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnk7XG4gICAgICAgIC8vIHJldHVybnMgZ29hbFxuICAgICAgICBpZiAoeSA+IDI1MCAmJiB5IDwgNDAwKSB7XG4gICAgICAgICAgICBpZiAoeCA8IDU1KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcxJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeCA+IChXSURUSCAtIDU1KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnMic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGhhbmRsZVdhbGxCb3VuY2UgKCkge1xuICAgICAgICB2YXIgeCA9IHRoaXMueDtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnk7XG4gICAgICAgIFxuICAgICAgICAvL2hhbmRsZSBob3Jpem9udGFsIGJvdW5jZVxuICAgICAgICBpZiAoeCA8IDU1IHx8IHggPiAoV0lEVEggLSA1NSkpIHtcbiAgICAgICAgICAgIHRoaXMueCAtPSBNYXRoLmZsb29yKCAoKDIgKiB0aGlzLmR4KSkgKiBUSUNLICk7XG4gICAgICAgICAgICB0aGlzLmR4IC09ICgyICogKHRoaXMuZHgpKTtcbiAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICAvLyByZXR1cm5zIHZlcnRpY2FsIGJvdW5jZVxuICAgICAgICBpZiAoeSA8IDAgfHwgeSA+IChIRUlHSFQgLSAxMCkpIHtcbiAgICAgICAgICAgIHRoaXMueSAtPSBNYXRoLmZsb29yKCAoKDIgKiB0aGlzLmR5KSkgKiBUSUNLICk7XG4gICAgICAgICAgICB0aGlzLmR5IC09ICgyICogKHRoaXMuZHkpKTtcbiAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbW92ZSAoKSB7XG4gICAgICAgIHRoaXMueCArPSB0aGlzLmR4ICogVElDSyAgO1xuICAgICAgICB0aGlzLnkgKz0gdGhpcy5keSAqIFRJQ0sgIDtcblxuICAgICAgICAvL2ZyaWN0aW9uIG9uIHkgYXhpc1xuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5keSkgPiAwLjAyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5keSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR5IC09IC4wMDIxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR5ICs9IC4wMDIxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5keSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy9mcmljdGlvbiBvbiB4IGF4aXNcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuZHgpID4gMC4wMikge1xuICAgICAgICAgICAgaWYgKHRoaXMuZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5keCAtPSAuMDAyMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5keCArPSAuMDAyMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZHggPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHJhdyhjdHgpe1xuXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LmFyYyh0aGlzLngsIHRoaXMueSwgNywgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZWQnO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gMTtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyM4YjAwMDAnO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgXG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cy5CYWxsID0gQmFsbDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./shared/Ball.js\n");

/***/ }),

/***/ "./shared/Player.js":
/*!**************************!*\
  !*** ./shared/Player.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("const { TICK, SPEED, WIDTH, HEIGHT} = __webpack_require__(/*! ./gamelogic */ \"./shared/gamelogic.js\");\n\nclass Player {\n    constructor(team,id , x = 200,y = 200,rotation = 0){\n        this.team = team;\n        this.id = id;\n        this.x = x;\n        this.y = y;\n        this.canvas = null; // client side used\n        this.img = null; //client side used\n        this.rotation = rotation; //degrees\n        this.kicking = false;\n        this.canmove = false; // used on server to prevent spam. locked down every TICK\n        this.animationFrame = 0;\n        this.queuedTransmission = false;\n        this.lastTransmission = Date.now();\n\n    }\n\n    setPos(x,y,rotation){\n        this.x = x;\n        this.y = y;\n        this.rotation = rotation;\n    }\n\n    generateCanvas(img){\n        this.img = img;\n        var playercanvas = document.createElement('CANVAS');\n        playercanvas.id = this.id;\n        playercanvas.height = 100;\n        playercanvas.width = 100;\n        // rotate 45 degrees clockwise\n        this.canvas = playercanvas;\n    }\n\n    move(){\n        //rotation  correspond to a requested movement of 0deg, 45deg, 90deg, etc\n        const dx = Math.cos(this.rotation * Math.PI / 180) ;\n        const dy = Math.sin(this.rotation * Math.PI / 180) ;\n      \n        this.x += dx * SPEED * TICK;\n        this.y -= dy * SPEED * TICK;\n        this.x = Math.floor(this.x);\n        this.y = Math.floor(this.y);\n        \n    }\n \n    handleCollisions(){\n\n        // left\n        if (this.x < 0){\n            this.x = 0;\n        }\n        // right\n        if(this.x > (WIDTH - 80)) {\n            this.x = WIDTH-80;\n        }\n        // top\n        if (this.y < -10){\n            this.y = -10;\n        }\n        // bottom\n        if(this.y > (HEIGHT - 80)) {\n            this.y = HEIGHT-80;\n        }\n\n        this.kicking = false;\n    }\n\n    // transmits the most recent movement as soon as possible\n    transmit(socket){\n        if(this.queuedTransmission) return;\n\n        const now = Date.now();\n        if (now-this.lastTransmission > TICK){\n            this.queuedTransmission = false;\n            this.move();\n            socket.emit('playermove', {rotation: this.rotation, kicking:this.kicking});\n        }\n        else{\n        // queue a transmission asap\n            this.queuedTransmission = true;\n           \n            setTimeout(() => {\n                this.transmit(socket);\n            }, TICK+this.lastTransmission-now+1 );\n        }\n      \n\n    }\n\n    handleRotation(newRotation) {\n        if(newRotation!==this.rotation){\n            this.rotation = newRotation;\n        }\n \n    }\n\n    draw(ctx) { //sx, sy, sWidth, sHeight, dx, dy,\n        this.animationFrame++;\n        if (this.animationFrame > 16) {\n            this.animationFrame = 0;\n        }\n\n        const playerctx = this.canvas.getContext('2d');\n        playerctx.resetTransform();\n        playerctx.clearRect(0, 0, this.canvas.height, this.canvas.width);\n        //playerctx.fillStyle = 'red';\n        //playerctx.fillRect(0,0,this.canvas.height,this.canvas.width);\n        playerctx.translate(this.canvas.width / 2, this.canvas.height / 2);\n        playerctx.rotate(((90 - this.rotation) * Math.PI) / 180);\n        playerctx.drawImage(this.img, 2+(this.animationFrame*29), 0, 25, 60, -14, -20, 25, 60);\n        ctx.drawImage(this.canvas, this.x, this.y);\n    }\n}\n\nmodule.exports.Player = Player;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zaGFyZWQvUGxheWVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc2hhcmVkL1BsYXllci5qcz8yYWUzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgVElDSywgU1BFRUQsIFdJRFRILCBIRUlHSFR9ID0gcmVxdWlyZSgnLi9nYW1lbG9naWMnKTtcblxuY2xhc3MgUGxheWVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZWFtLGlkICwgeCA9IDIwMCx5ID0gMjAwLHJvdGF0aW9uID0gMCl7XG4gICAgICAgIHRoaXMudGVhbSA9IHRlYW07XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsOyAvLyBjbGllbnQgc2lkZSB1c2VkXG4gICAgICAgIHRoaXMuaW1nID0gbnVsbDsgLy9jbGllbnQgc2lkZSB1c2VkXG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjsgLy9kZWdyZWVzXG4gICAgICAgIHRoaXMua2lja2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbm1vdmUgPSBmYWxzZTsgLy8gdXNlZCBvbiBzZXJ2ZXIgdG8gcHJldmVudCBzcGFtLiBsb2NrZWQgZG93biBldmVyeSBUSUNLXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSAwO1xuICAgICAgICB0aGlzLnF1ZXVlZFRyYW5zbWlzc2lvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhc3RUcmFuc21pc3Npb24gPSBEYXRlLm5vdygpO1xuXG4gICAgfVxuXG4gICAgc2V0UG9zKHgseSxyb3RhdGlvbil7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUNhbnZhcyhpbWcpe1xuICAgICAgICB0aGlzLmltZyA9IGltZztcbiAgICAgICAgdmFyIHBsYXllcmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0NBTlZBUycpO1xuICAgICAgICBwbGF5ZXJjYW52YXMuaWQgPSB0aGlzLmlkO1xuICAgICAgICBwbGF5ZXJjYW52YXMuaGVpZ2h0ID0gMTAwO1xuICAgICAgICBwbGF5ZXJjYW52YXMud2lkdGggPSAxMDA7XG4gICAgICAgIC8vIHJvdGF0ZSA0NSBkZWdyZWVzIGNsb2Nrd2lzZVxuICAgICAgICB0aGlzLmNhbnZhcyA9IHBsYXllcmNhbnZhcztcbiAgICB9XG5cbiAgICBtb3ZlKCl7XG4gICAgICAgIC8vcm90YXRpb24gIGNvcnJlc3BvbmQgdG8gYSByZXF1ZXN0ZWQgbW92ZW1lbnQgb2YgMGRlZywgNDVkZWcsIDkwZGVnLCBldGNcbiAgICAgICAgY29uc3QgZHggPSBNYXRoLmNvcyh0aGlzLnJvdGF0aW9uICogTWF0aC5QSSAvIDE4MCkgO1xuICAgICAgICBjb25zdCBkeSA9IE1hdGguc2luKHRoaXMucm90YXRpb24gKiBNYXRoLlBJIC8gMTgwKSA7XG4gICAgICBcbiAgICAgICAgdGhpcy54ICs9IGR4ICogU1BFRUQgKiBUSUNLO1xuICAgICAgICB0aGlzLnkgLT0gZHkgKiBTUEVFRCAqIFRJQ0s7XG4gICAgICAgIHRoaXMueCA9IE1hdGguZmxvb3IodGhpcy54KTtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5mbG9vcih0aGlzLnkpO1xuICAgICAgICBcbiAgICB9XG4gXG4gICAgaGFuZGxlQ29sbGlzaW9ucygpe1xuXG4gICAgICAgIC8vIGxlZnRcbiAgICAgICAgaWYgKHRoaXMueCA8IDApe1xuICAgICAgICAgICAgdGhpcy54ID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyByaWdodFxuICAgICAgICBpZih0aGlzLnggPiAoV0lEVEggLSA4MCkpIHtcbiAgICAgICAgICAgIHRoaXMueCA9IFdJRFRILTgwO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvcFxuICAgICAgICBpZiAodGhpcy55IDwgLTEwKXtcbiAgICAgICAgICAgIHRoaXMueSA9IC0xMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBib3R0b21cbiAgICAgICAgaWYodGhpcy55ID4gKEhFSUdIVCAtIDgwKSkge1xuICAgICAgICAgICAgdGhpcy55ID0gSEVJR0hULTgwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5raWNraW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gdHJhbnNtaXRzIHRoZSBtb3N0IHJlY2VudCBtb3ZlbWVudCBhcyBzb29uIGFzIHBvc3NpYmxlXG4gICAgdHJhbnNtaXQoc29ja2V0KXtcbiAgICAgICAgaWYodGhpcy5xdWV1ZWRUcmFuc21pc3Npb24pIHJldHVybjtcblxuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAobm93LXRoaXMubGFzdFRyYW5zbWlzc2lvbiA+IFRJQ0spe1xuICAgICAgICAgICAgdGhpcy5xdWV1ZWRUcmFuc21pc3Npb24gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubW92ZSgpO1xuICAgICAgICAgICAgc29ja2V0LmVtaXQoJ3BsYXllcm1vdmUnLCB7cm90YXRpb246IHRoaXMucm90YXRpb24sIGtpY2tpbmc6dGhpcy5raWNraW5nfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgLy8gcXVldWUgYSB0cmFuc21pc3Npb24gYXNhcFxuICAgICAgICAgICAgdGhpcy5xdWV1ZWRUcmFuc21pc3Npb24gPSB0cnVlO1xuICAgICAgICAgICBcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNtaXQoc29ja2V0KTtcbiAgICAgICAgICAgIH0sIFRJQ0srdGhpcy5sYXN0VHJhbnNtaXNzaW9uLW5vdysxICk7XG4gICAgICAgIH1cbiAgICAgIFxuXG4gICAgfVxuXG4gICAgaGFuZGxlUm90YXRpb24obmV3Um90YXRpb24pIHtcbiAgICAgICAgaWYobmV3Um90YXRpb24hPT10aGlzLnJvdGF0aW9uKXtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb24gPSBuZXdSb3RhdGlvbjtcbiAgICAgICAgfVxuIFxuICAgIH1cblxuICAgIGRyYXcoY3R4KSB7IC8vc3gsIHN5LCBzV2lkdGgsIHNIZWlnaHQsIGR4LCBkeSxcbiAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSsrO1xuICAgICAgICBpZiAodGhpcy5hbmltYXRpb25GcmFtZSA+IDE2KSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBsYXllcmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHBsYXllcmN0eC5yZXNldFRyYW5zZm9ybSgpO1xuICAgICAgICBwbGF5ZXJjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLmhlaWdodCwgdGhpcy5jYW52YXMud2lkdGgpO1xuICAgICAgICAvL3BsYXllcmN0eC5maWxsU3R5bGUgPSAncmVkJztcbiAgICAgICAgLy9wbGF5ZXJjdHguZmlsbFJlY3QoMCwwLHRoaXMuY2FudmFzLmhlaWdodCx0aGlzLmNhbnZhcy53aWR0aCk7XG4gICAgICAgIHBsYXllcmN0eC50cmFuc2xhdGUodGhpcy5jYW52YXMud2lkdGggLyAyLCB0aGlzLmNhbnZhcy5oZWlnaHQgLyAyKTtcbiAgICAgICAgcGxheWVyY3R4LnJvdGF0ZSgoKDkwIC0gdGhpcy5yb3RhdGlvbikgKiBNYXRoLlBJKSAvIDE4MCk7XG4gICAgICAgIHBsYXllcmN0eC5kcmF3SW1hZ2UodGhpcy5pbWcsIDIrKHRoaXMuYW5pbWF0aW9uRnJhbWUqMjkpLCAwLCAyNSwgNjAsIC0xNCwgLTIwLCAyNSwgNjApO1xuICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuY2FudmFzLCB0aGlzLngsIHRoaXMueSk7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cy5QbGF5ZXIgPSBQbGF5ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./shared/Player.js\n");

/***/ }),

/***/ "./shared/gamelogic.js":
/*!*****************************!*\
  !*** ./shared/gamelogic.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\nmodule.exports = {\n    SPEED : .2, // how many pixels per ms objects should move\n    TICK : 30, // ms per server tick\n    WIDTH: 1200, // game canvas width\n    HEIGHT: 650, // game canvas height\n    // distance modifier to the head, based on the rotation of the cat\n    hitBoxMap: {\n        0: [50, 45],\n        45: [56, 48],\n        90: [60, 55],\n        135: [56, 58],\n        180: [50, 62],\n        225: [44, 58],\n        270: [40, 55],\n        315: [44, 48],\n    },\n\n    status:{\n        waitingForPlayers:0,\n        active:1,\n        gameWon:2,\n        abandoned:3\n    }\n    \n\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zaGFyZWQvZ2FtZWxvZ2ljLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc2hhcmVkL2dhbWVsb2dpYy5qcz85NjhkIl0sInNvdXJjZXNDb250ZW50IjpbIlxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgU1BFRUQgOiAuMiwgLy8gaG93IG1hbnkgcGl4ZWxzIHBlciBtcyBvYmplY3RzIHNob3VsZCBtb3ZlXG4gICAgVElDSyA6IDMwLCAvLyBtcyBwZXIgc2VydmVyIHRpY2tcbiAgICBXSURUSDogMTIwMCwgLy8gZ2FtZSBjYW52YXMgd2lkdGhcbiAgICBIRUlHSFQ6IDY1MCwgLy8gZ2FtZSBjYW52YXMgaGVpZ2h0XG4gICAgLy8gZGlzdGFuY2UgbW9kaWZpZXIgdG8gdGhlIGhlYWQsIGJhc2VkIG9uIHRoZSByb3RhdGlvbiBvZiB0aGUgY2F0XG4gICAgaGl0Qm94TWFwOiB7XG4gICAgICAgIDA6IFs1MCwgNDVdLFxuICAgICAgICA0NTogWzU2LCA0OF0sXG4gICAgICAgIDkwOiBbNjAsIDU1XSxcbiAgICAgICAgMTM1OiBbNTYsIDU4XSxcbiAgICAgICAgMTgwOiBbNTAsIDYyXSxcbiAgICAgICAgMjI1OiBbNDQsIDU4XSxcbiAgICAgICAgMjcwOiBbNDAsIDU1XSxcbiAgICAgICAgMzE1OiBbNDQsIDQ4XSxcbiAgICB9LFxuXG4gICAgc3RhdHVzOntcbiAgICAgICAgd2FpdGluZ0ZvclBsYXllcnM6MCxcbiAgICAgICAgYWN0aXZlOjEsXG4gICAgICAgIGdhbWVXb246MixcbiAgICAgICAgYWJhbmRvbmVkOjNcbiAgICB9XG4gICAgXG5cbn07Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./shared/gamelogic.js\n");

/***/ })

/******/ });